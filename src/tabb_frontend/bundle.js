(()=>{var Xa=Object.defineProperty;var L=(t,e)=>()=>(t&&(e=t(t=0)),e);var za=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Wa=(t,e)=>{for(var r in e)Xa(t,r,{get:e[r],enumerable:!0})};function hi(t){return t!=null&&"reject_code"in t}function pi(t){return t!=null&&"certificate"in t}var li,Ct,Vo=L(()=>{(function(t){t[t.SysFatal=1]="SysFatal",t[t.SysTransient=2]="SysTransient",t[t.DestinationInvalid=3]="DestinationInvalid",t[t.CanisterReject=4]="CanisterReject",t[t.CanisterError=5]="CanisterError"})(li||(li={}));(function(t){t.Replied="replied",t.Rejected="rejected"})(Ct||(Ct={}))});function mi(t){let e=0,r=0,n="";function o(s){return e<0?r|=s>>-e:r=s<<e&248,e>3?(e-=8,1):(e<4&&(n+=Un[r>>3],e+=5),0)}for(let s=0;s<t.length;)s+=o(t[s]);return n+(e<0?Un[r>>3]:"")}function yi(t){let e=0,r=0,n=new Uint8Array(t.length*4/3|0),o=0;function s(i){let c=br[i.toLowerCase()];if(c===void 0)throw new Error(`Invalid character: ${JSON.stringify(i)}`);c<<=3,r|=c>>>e,e+=5,e>=8&&(n[o++]=r,e-=8,e>0?r=c<<5-e&255:r=0)}for(let i of t)s(i);return n.slice(0,o)}var Un,br,bi=L(()=>{Un="abcdefghijklmnopqrstuvwxyz234567",br=Object.create(null);for(let t=0;t<Un.length;t++)br[Un[t]]=t;br[0]=br.o;br[1]=br.i});function xi(t){let e=-1;for(let r=0;r<t.length;r++){let o=(t[r]^e)&255;e=Qa[o]^e>>>8}return(e^-1)>>>0}var Qa,gi=L(()=>{Qa=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117])});var Zt,wi=L(()=>{Zt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});function Kt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Fo(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Q(t,...e){if(!Kt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function $o(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function _i(t,e){Q(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Yt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Mn(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Fe(t,e){return t<<32-e|t>>>e}function Z(t){if(Q(t),vi)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Ja[t[r]];return e}function Ei(t){if(t>=at._0&&t<=at._9)return t-at._0;if(t>=at.A&&t<=at.F)return t-(at.A-10);if(t>=at.a&&t<=at.f)return t-(at.a-10)}function $e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(vi)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let o=0,s=0;o<r;o++,s+=2){let i=Ei(t.charCodeAt(s)),c=Ei(t.charCodeAt(s+1));if(i===void 0||c===void 0){let f=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+s)}n[o]=i*16+c}return n}function W(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function jo(t){return typeof t=="string"&&(t=W(t)),Q(t),t}function $(...t){let e=0;for(let n=0;n<t.length;n++){let o=t[n];Q(o),e+=o.length}let r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let s=t[n];r.set(s,o),o+=s.length}return r}function Pn(t){let e=n=>t().update(jo(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function xr(t=32){if(Zt&&typeof Zt.getRandomValues=="function")return Zt.getRandomValues(new Uint8Array(t));if(Zt&&typeof Zt.randomBytes=="function")return Uint8Array.from(Zt.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}var vi,Ja,at,qn,ve=L(()=>{wi();vi=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ja=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));at={_0:48,_9:57,A:65,F:70,a:97,f:102};qn=class{}});function ef(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),s=BigInt(4294967295),i=Number(r>>o&s),c=Number(r&s),f=n?4:0,h=n?0:4;t.setUint32(e+f,i,n),t.setUint32(e+h,c,n)}function Bi(t,e,r){return t&e^~t&r}function Ti(t,e,r){return t&e^t&r^e&r}var Gr,ft,ut,ye,Ii=L(()=>{ve();Gr=class extends qn{constructor(e,r,n,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.buffer=new Uint8Array(e),this.view=Mn(this.buffer)}update(e){$o(this),e=jo(e),Q(e);let{view:r,buffer:n,blockLen:o}=this,s=e.length;for(let i=0;i<s;){let c=Math.min(o-this.pos,s-i);if(c===o){let f=Mn(e);for(;o<=s-i;i+=o)this.process(f,i);continue}n.set(e.subarray(i,i+c),this.pos),this.pos+=c,i+=c,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$o(this),_i(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:s}=this,{pos:i}=this;r[i++]=128,Yt(this.buffer.subarray(i)),this.padOffset>o-i&&(this.process(n,0),i=0);for(let p=i;p<o;p++)r[p]=0;ef(n,o-8,BigInt(this.length*8),s),this.process(n,0);let c=Mn(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=f/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,y[p],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:s,destroyed:i,pos:c}=this;return e.destroyed=i,e.finished=s,e.length=o,e.pos=c,o%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}},ft=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ut=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),ye=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});function tf(t,e=!1){return e?{h:Number(t&Ln),l:Number(t>>Si&Ln)}:{h:Number(t>>Si&Ln)|0,l:Number(t&Ln)|0}}function Ai(t,e=!1){let r=t.length,n=new Uint32Array(r),o=new Uint32Array(r);for(let s=0;s<r;s++){let{h:i,l:c}=tf(t[s],e);[n[s],o[s]]=[i,c]}return[n,o]}function et(t,e,r,n){let o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}var Ln,Si,Ho,Go,Xt,zt,Zr,Kr,Oi,Ci,Ri,Ni,Ui,qi,Mi=L(()=>{Ln=BigInt(4294967295),Si=BigInt(32);Ho=(t,e,r)=>t>>>r,Go=(t,e,r)=>t<<32-r|e>>>r,Xt=(t,e,r)=>t>>>r|e<<32-r,zt=(t,e,r)=>t<<32-r|e>>>r,Zr=(t,e,r)=>t<<64-r|e>>>r-32,Kr=(t,e,r)=>t>>>r-32|e<<64-r;Oi=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Ci=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Ri=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Ni=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,Ui=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),qi=(t,e,r,n,o,s)=>e+r+n+o+s+(t/2**32|0)|0});var nf,Rt,kn,Zo,Pi,of,sf,Nt,Ut,Ko,ge,Li,ki,gr=L(()=>{Ii();Mi();ve();nf=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rt=new Uint32Array(64),kn=class extends Gr{constructor(e=32){super(64,e,8,!1),this.A=ft[0]|0,this.B=ft[1]|0,this.C=ft[2]|0,this.D=ft[3]|0,this.E=ft[4]|0,this.F=ft[5]|0,this.G=ft[6]|0,this.H=ft[7]|0}get(){let{A:e,B:r,C:n,D:o,E:s,F:i,G:c,H:f}=this;return[e,r,n,o,s,i,c,f]}set(e,r,n,o,s,i,c,f){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=c|0,this.H=f|0}process(e,r){for(let p=0;p<16;p++,r+=4)Rt[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let u=Rt[p-15],l=Rt[p-2],a=Fe(u,7)^Fe(u,18)^u>>>3,w=Fe(l,17)^Fe(l,19)^l>>>10;Rt[p]=w+Rt[p-7]+a+Rt[p-16]|0}let{A:n,B:o,C:s,D:i,E:c,F:f,G:h,H:y}=this;for(let p=0;p<64;p++){let u=Fe(c,6)^Fe(c,11)^Fe(c,25),l=y+u+Bi(c,f,h)+nf[p]+Rt[p]|0,w=(Fe(n,2)^Fe(n,13)^Fe(n,22))+Ti(n,o,s)|0;y=h,h=f,f=c,c=i+l|0,i=s,s=o,o=n,n=l+w|0}n=n+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,c=c+this.E|0,f=f+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,o,s,i,c,f,h,y)}roundClean(){Yt(Rt)}destroy(){this.set(0,0,0,0,0,0,0,0),Yt(this.buffer)}},Zo=class extends kn{constructor(){super(28),this.A=ut[0]|0,this.B=ut[1]|0,this.C=ut[2]|0,this.D=ut[3]|0,this.E=ut[4]|0,this.F=ut[5]|0,this.G=ut[6]|0,this.H=ut[7]|0}},Pi=Ai(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),of=Pi[0],sf=Pi[1],Nt=new Uint32Array(80),Ut=new Uint32Array(80),Ko=class extends Gr{constructor(e=64){super(128,e,16,!1),this.Ah=ye[0]|0,this.Al=ye[1]|0,this.Bh=ye[2]|0,this.Bl=ye[3]|0,this.Ch=ye[4]|0,this.Cl=ye[5]|0,this.Dh=ye[6]|0,this.Dl=ye[7]|0,this.Eh=ye[8]|0,this.El=ye[9]|0,this.Fh=ye[10]|0,this.Fl=ye[11]|0,this.Gh=ye[12]|0,this.Gl=ye[13]|0,this.Hh=ye[14]|0,this.Hl=ye[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:o,Ch:s,Cl:i,Dh:c,Dl:f,Eh:h,El:y,Fh:p,Fl:u,Gh:l,Gl:a,Hh:w,Hl:x}=this;return[e,r,n,o,s,i,c,f,h,y,p,u,l,a,w,x]}set(e,r,n,o,s,i,c,f,h,y,p,u,l,a,w,x){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=s|0,this.Cl=i|0,this.Dh=c|0,this.Dl=f|0,this.Eh=h|0,this.El=y|0,this.Fh=p|0,this.Fl=u|0,this.Gh=l|0,this.Gl=a|0,this.Hh=w|0,this.Hl=x|0}process(e,r){for(let T=0;T<16;T++,r+=4)Nt[T]=e.getUint32(r),Ut[T]=e.getUint32(r+=4);for(let T=16;T<80;T++){let C=Nt[T-15]|0,b=Ut[T-15]|0,A=Xt(C,b,1)^Xt(C,b,8)^Ho(C,b,7),U=zt(C,b,1)^zt(C,b,8)^Go(C,b,7),q=Nt[T-2]|0,M=Ut[T-2]|0,_=Xt(q,M,19)^Zr(q,M,61)^Ho(q,M,6),B=zt(q,M,19)^Kr(q,M,61)^Go(q,M,6),O=Ri(U,B,Ut[T-7],Ut[T-16]),d=Ni(O,A,_,Nt[T-7],Nt[T-16]);Nt[T]=d|0,Ut[T]=O|0}let{Ah:n,Al:o,Bh:s,Bl:i,Ch:c,Cl:f,Dh:h,Dl:y,Eh:p,El:u,Fh:l,Fl:a,Gh:w,Gl:x,Hh:E,Hl:I}=this;for(let T=0;T<80;T++){let C=Xt(p,u,14)^Xt(p,u,18)^Zr(p,u,41),b=zt(p,u,14)^zt(p,u,18)^Kr(p,u,41),A=p&l^~p&w,U=u&a^~u&x,q=Ui(I,b,U,sf[T],Ut[T]),M=qi(q,E,C,A,of[T],Nt[T]),_=q|0,B=Xt(n,o,28)^Zr(n,o,34)^Zr(n,o,39),O=zt(n,o,28)^Kr(n,o,34)^Kr(n,o,39),d=n&s^n&c^s&c,m=o&i^o&f^i&f;E=w|0,I=x|0,w=l|0,x=a|0,l=p|0,a=u|0,{h:p,l:u}=et(h|0,y|0,M|0,_|0),h=c|0,y=f|0,c=s|0,f=i|0,s=n|0,i=o|0;let g=Oi(_,O,m);n=Ci(g,M,B,d),o=g|0}({h:n,l:o}=et(this.Ah|0,this.Al|0,n|0,o|0)),{h:s,l:i}=et(this.Bh|0,this.Bl|0,s|0,i|0),{h:c,l:f}=et(this.Ch|0,this.Cl|0,c|0,f|0),{h,l:y}=et(this.Dh|0,this.Dl|0,h|0,y|0),{h:p,l:u}=et(this.Eh|0,this.El|0,p|0,u|0),{h:l,l:a}=et(this.Fh|0,this.Fl|0,l|0,a|0),{h:w,l:x}=et(this.Gh|0,this.Gl|0,w|0,x|0),{h:E,l:I}=et(this.Hh|0,this.Hl|0,E|0,I|0),this.set(n,o,s,i,c,f,h,y,p,u,l,a,w,x,E,I)}roundClean(){Yt(Nt,Ut)}destroy(){Yt(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},ge=Pn(()=>new kn),Li=Pn(()=>new Zo),ki=Pn(()=>new Ko)});var Dn,cf,Di,af,G,Vi=L(()=>{bi();gi();gr();ve();Dn="__principal__",cf=2,Di=4,af="aaaaa-aa",G=class t{static anonymous(){return new this(new Uint8Array([Di]))}static managementCanister(){return this.fromText(af)}static selfAuthenticating(e){let r=Li(e);return new this(new Uint8Array([...r,cf]))}static from(e){if(typeof e=="string")return t.fromText(e);if(Object.getPrototypeOf(e)===Uint8Array.prototype)return new t(e);if(t.isPrincipal(e))return new t(e._arr);throw new Error(`Impossible to convert ${JSON.stringify(e)} to Principal.`)}static fromHex(e){return new this($e(e))}static fromText(e){let r=e;if(e.includes(Dn)){let i=JSON.parse(e);Dn in i&&(r=i[Dn])}let n=r.toLowerCase().replace(/-/g,""),o=yi(n);o=o.slice(4,o.length);let s=new this(o);if(s.toText()!==r)throw new Error(`Principal "${s.toText()}" does not have a valid checksum (original value "${r}" may not be a valid Principal ID).`);return s}static fromUint8Array(e){return new this(e)}static isPrincipal(e){return e instanceof t||typeof e=="object"&&e!==null&&"_isPrincipal"in e&&e._isPrincipal===!0&&"_arr"in e&&e._arr instanceof Uint8Array}constructor(e){this._arr=e,this._isPrincipal=!0}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===Di}toUint8Array(){return this._arr}toHex(){return Z(this._arr).toUpperCase()}toText(){let e=new ArrayBuffer(4);new DataView(e).setUint32(0,xi(this._arr));let n=new Uint8Array(e),o=new Uint8Array([...n,...this._arr]),i=mi(o).match(/.{1,5}/g);if(!i)throw new Error;return i.join("-")}toString(){return this.toText()}toJSON(){return{[Dn]:this.toText()}}compareTo(e){for(let r=0;r<Math.min(this._arr.length,e._arr.length);r++){if(this._arr[r]<e._arr[r])return"lt";if(this._arr[r]>e._arr[r])return"gt"}return this._arr.length<e._arr.length?"lt":this._arr.length>e._arr.length?"gt":"eq"}ltEq(e){let r=this.compareTo(e);return r=="lt"||r=="eq"}gtEq(e){let r=this.compareTo(e);return r=="gt"||r=="eq"}}});var qt=L(()=>{Vi()});var dt,H,je,lt,Be,J,Mt,Yr,ce,Y,he,Wt,Xr,Vn,wr,ht,Er,Fn,_r,$n,jn,He,zr,Hn,Gn,Qt,Zn,Jt,Kn,Yn,Ge,Xn,vr,Pt,er,zn,Wn,Wr,Qn,Jn,Ne,Lt,Qr,Jr,en,tn,eo,rn,kt,Ue=L(()=>{ve();(function(t){t.Trust="Trust",t.Protocol="Protocol",t.Reject="Reject",t.Transport="Transport",t.External="External",t.Limit="Limit",t.Input="Input",t.Unknown="Unknown"})(dt||(dt={}));H=class{constructor(e=!1){this.isCertified=e}toString(){let e=this.toErrorMessage();return this.requestContext&&(e+=`
Request context:
  Request ID (hex): ${this.requestContext.requestId?Z(this.requestContext.requestId):"undefined"}
  Sender pubkey (hex): ${Z(this.requestContext.senderPubKey)}
  Sender signature (hex): ${Z(this.requestContext.senderSignature)}
  Ingress expiry: ${this.requestContext.ingressExpiry.toString()}`),this.callContext&&(e+=`
Call context:
  Canister ID: ${this.callContext.canisterId.toText()}
  Method name: ${this.callContext.methodName}
  HTTP details: ${JSON.stringify(this.callContext.httpDetails,null,2)}`),e}},je=class t extends Error{get code(){return this.cause.code}set code(e){this.cause.code=e}get kind(){return this.cause.kind}set kind(e){this.cause.kind=e}get isCertified(){return this.code.isCertified}constructor(e,r){super(e.toString()),this.name="AgentError",this.cause={code:e,kind:r},Object.setPrototypeOf(this,t.prototype)}hasCode(e){return this.code instanceof e}toString(){return`${this.name} (${this.kind}): ${this.message}`}},lt=class extends je{static fromCode(e){return new this(e)}},Be=class t extends lt{constructor(e){super(e,dt.Trust),this.name="TrustError",Object.setPrototypeOf(this,t.prototype)}},J=class t extends lt{constructor(e){super(e,dt.Protocol),this.name="ProtocolError",Object.setPrototypeOf(this,t.prototype)}},Mt=class t extends lt{constructor(e){super(e,dt.Reject),this.name="RejectError",Object.setPrototypeOf(this,t.prototype)}},Yr=class t extends lt{constructor(e){super(e,dt.Transport),this.name="TransportError",Object.setPrototypeOf(this,t.prototype)}},ce=class t extends lt{constructor(e){super(e,dt.External),this.name="ExternalError",Object.setPrototypeOf(this,t.prototype)}},Y=class t extends lt{constructor(e){super(e,dt.Input),this.name="InputError",Object.setPrototypeOf(this,t.prototype)}},he=class t extends lt{constructor(e){super(e,dt.Unknown),this.name="UnknownError",Object.setPrototypeOf(this,t.prototype)}},Wt=class t extends H{constructor(e){super(),this.reason=e,this.name="CertificateVerificationErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Certificate verification error: "${this.reason}"`}},Xr=class t extends H{constructor(e,r,n,o){super(),this.maxAgeInMinutes=e,this.certificateTime=r,this.currentTime=n,this.ageType=o,this.name="CertificateTimeErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Certificate is signed more than ${this.maxAgeInMinutes} minutes in the ${this.ageType}. Certificate time: ${this.certificateTime.toISOString()} Current time: ${this.currentTime.toISOString()}`}},Vn=class t extends H{constructor(){super(),this.name="CertificateHasTooManyDelegationsErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return"Certificate has too many delegations"}},wr=class t extends H{constructor(e,r){super(),this.canisterId=e,this.subnetId=r,this.name="CertificateNotAuthorizedErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`The certificate contains a delegation that does not include the canister ${this.canisterId.toText()} in the canister_ranges field. Subnet ID: 0x${Z(this.subnetId)}`}},ht=class t extends H{constructor(e,r){super(),this.message=e,this.lookupStatus=r,this.name="LookupErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`${this.message}. Lookup status: ${this.lookupStatus}`}},Er=class t extends H{constructor(e){super(),this.message=e,this.name="MalformedLookupFoundValueErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return this.message}},Fn=class t extends H{constructor(e){super(),this.message=e,this.name="MissingLookupValueErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return this.message}},_r=class t extends H{constructor(e,r){super(),this.expectedLength=e,this.actualLength=r,this.name="DerKeyLengthMismatchErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`BLS DER-encoded public key must be ${this.expectedLength} bytes long, but is ${this.actualLength} bytes long`}},$n=class t extends H{constructor(e,r){super(),this.expectedPrefix=e,this.actualPrefix=r,this.name="DerPrefixMismatchErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`BLS DER-encoded public key is invalid. Expected the following prefix: ${Z(this.expectedPrefix)}, but got ${Z(this.actualPrefix)}`}},jn=class t extends H{constructor(e,r){super(),this.expectedLength=e,this.actualLength=r,this.name="DerDecodeLengthMismatchErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`DER payload mismatch: Expected length ${this.expectedLength}, actual length: ${this.actualLength}`}},He=class t extends H{constructor(e){super(),this.error=e,this.name="DerDecodeErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Failed to decode DER: ${this.error}`}},zr=class t extends H{constructor(e){super(),this.error=e,this.name="DerEncodeErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Failed to encode DER: ${this.error}`}},Hn=class t extends H{constructor(e,r){super(),this.error=e,this.input=r,this.name="CborDecodeErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Failed to decode CBOR: ${this.error}, input: ${Z(this.input)}`}},Gn=class t extends H{constructor(e,r){super(),this.error=e,this.value=r,this.name="CborEncodeErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Failed to encode CBOR: ${this.error}, input: ${this.value}`}},Qt=class t extends H{constructor(e,r,n){super(),this.message=e,this.requestId=r,this.status=n,this.name="TimeoutWaitingForResponseErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){let e=`${this.message}
`;return this.requestId&&(e+=`  Request ID: ${Z(this.requestId)}
`),this.status&&(e+=`  Request status: ${this.status}
`),e}},Zn=class t extends H{constructor(e,r,n){super(),this.maxIngressExpiryInMinutes=e,this.requestId=r,this.retryTimes=n,this.name="CertificateOutdatedErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){let e=`Certificate is stale (over ${this.maxIngressExpiryInMinutes} minutes). Is the computer's clock synchronized?
  Request ID: ${Z(this.requestId)}
`;return this.retryTimes!==void 0&&(e+=`  Retried ${this.retryTimes} times.`),e}},Jt=class t extends H{constructor(e,r,n,o){super(!0),this.requestId=e,this.rejectCode=r,this.rejectMessage=n,this.rejectErrorCode=o,this.name="CertifiedRejectErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`The replica returned a rejection error:
  Request ID: ${Z(this.requestId)}
  Reject code: ${this.rejectCode}
  Reject text: ${this.rejectMessage}
  Error code: ${this.rejectErrorCode}
`}},Kn=class t extends H{constructor(e,r,n,o,s){super(),this.requestId=e,this.rejectCode=r,this.rejectMessage=n,this.rejectErrorCode=o,this.signatures=s,this.name="UncertifiedRejectErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`The replica returned a rejection error:
  Request ID: ${Z(this.requestId)}
  Reject code: ${this.rejectCode}
  Reject text: ${this.rejectMessage}
  Error code: ${this.rejectErrorCode}
`}},Yn=class t extends H{constructor(e){super(),this.requestId=e,this.name="RequestStatusDoneNoReplyErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Call was marked as done but we never saw the reply:
  Request ID: ${Z(this.requestId)}
`}},Ge=class t extends H{constructor(e){super(),this.shouldFetchRootKey=e,this.name="MissingRootKeyErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return this.shouldFetchRootKey===void 0?"Agent is missing root key":`Agent is missing root key and the shouldFetchRootKey value is set to ${this.shouldFetchRootKey}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`}},Xn=class t extends H{constructor(e){super(),this.value=e,this.name="HashValueErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Attempt to hash a value of unsupported type: ${this.value}`}},vr=class t extends H{constructor(e){super(),this.error=e,this.name="HttpDefaultFetchErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return this.error}},Pt=class t extends H{constructor(){super(),this.name="IdentityInvalidErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return"This identity has expired due this application's security policy. Please refresh your authentication."}},er=class t extends H{constructor(e,r){super(),this.message=e,this.providedIngressExpiryInMinutes=r,this.name="IngressExpiryInvalidErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`${this.message}. Provided ingress expiry time is ${this.providedIngressExpiryInMinutes} minutes.`}},zn=class t extends H{constructor(){super(),this.name="CreateHttpAgentErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return"Failed to create agent from provided agent"}},Wn=class t extends H{constructor(e){super(),this.error=e,this.name="MalformedSignatureErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Query response contained a malformed signature: ${this.error}`}},Wr=class t extends H{constructor(){super(),this.name="MissingSignatureErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return"Query response did not contain any node signatures"}},Qn=class t extends H{constructor(){super(),this.name="MalformedPublicKeyErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return"Read state response contained a malformed public key"}},Jn=class t extends H{constructor(e){super(),this.nodeId=e,this.name="QuerySignatureVerificationFailedErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Query signature verification failed. Node ID: ${this.nodeId}`}},Ne=class t extends H{constructor(e){super(),this.error=e,this.name="UnexpectedErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Unexpected error: ${this.error}`}},Lt=class t extends H{constructor(e){super(),this.error=e,this.name="HashTreeDecodeErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Failed to decode certificate: ${this.error}`}},Qr=class t extends H{constructor(e,r,n,o){super(),this.status=e,this.statusText=r,this.headers=n,this.bodyText=o,this.name="HttpErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){let e=`HTTP request failed:
  Status: ${this.status} (${this.statusText})
  Headers: ${JSON.stringify(this.headers)}
`;return this.bodyText&&(e+=`  Body: ${this.bodyText}
`),e}},Jr=class t extends H{constructor(){super(),this.name="HttpV3ApiNotSupportedErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return"HTTP request failed: v3 API is not supported"}},en=class t extends H{constructor(e){super(),this.error=e,this.name="HttpFetchErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Failed to fetch HTTP request: ${this.error}`}},tn=class t extends H{constructor(e){super(),this.receivedCanisterId=e,this.name="MissingCanisterIdErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Canister ID is required, but received ${typeof this.receivedCanisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`}},eo=class t extends H{constructor(e){super(),this.request=e,this.name="InvalidReadStateRequestErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Invalid read state request: ${this.request}`}},rn=class t extends H{constructor(e){super(),this.error=e,this.name="ExpiryJsonDeserializeErrorCode",Object.setPrototypeOf(this,t.prototype)}toErrorMessage(){return`Failed to deserialize expiry: ${this.error}`}},kt=new Error("unreachable")});function X(...t){let e=new Uint8Array(t.reduce((n,o)=>n+o.byteLength,0)),r=0;for(let n of t)e.set(n,r),r+=n.byteLength;return e}function Fi(t){if(!t)throw new Error("Input cannot be null or undefined");return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):Array.isArray(t)?new Uint8Array(t):"buffer"in t?Fi(t.buffer):new Uint8Array(t)}function $i(t,e){if(t.byteLength!==e.byteLength)return t.byteLength-e.byteLength;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]-e[r];return 0}function ji(t){if(!(t instanceof Uint8Array))throw new Error("Input must be a Uint8Array");return new DataView(t.buffer,t.byteOffset,t.byteLength)}var Ze,to=L(()=>{Ze=class{save(){return this._view}restore(e){if(!(e instanceof Uint8Array))throw new Error("Checkpoint must be a Uint8Array");this._view=e}constructor(e,r=e?.byteLength||0){if(e&&!(e instanceof Uint8Array))try{e=Fi(e)}catch{throw new Error("Buffer must be a Uint8Array")}if(r<0||!Number.isInteger(r))throw new Error("Length must be a non-negative integer");if(e&&r>e.byteLength)throw new Error("Length cannot exceed buffer length");this._buffer=e||new Uint8Array(0),this._view=new Uint8Array(this._buffer.buffer,0,r)}get buffer(){return this._view.slice()}get byteLength(){return this._view.byteLength}read(e){let r=this._view.subarray(0,e);return this._view=this._view.subarray(e),r.slice()}readUint8(){if(this._view.byteLength===0)return;let e=this._view[0];return this._view=this._view.subarray(1),e}write(e){if(!(e instanceof Uint8Array))throw new Error("Buffer must be a Uint8Array");let r=this._view.byteLength;this._view.byteOffset+this._view.byteLength+e.byteLength>=this._buffer.byteLength?this.alloc(e.byteLength):this._view=new Uint8Array(this._buffer.buffer,this._view.byteOffset,this._view.byteLength+e.byteLength),this._view.set(e,r)}get end(){return this._view.byteLength===0}alloc(e){if(e<=0||!Number.isInteger(e))throw new Error("Amount must be a positive integer");let r=new Uint8Array((this._buffer.byteLength+e)*1.2|0),n=new Uint8Array(r.buffer,0,this._view.byteLength+e);n.set(this._view),this._buffer=r,this._view=n}}});function ff(t){let r=new TextEncoder().encode(t),n=0;for(let o of r)n=(n*223+o)%2**32;return n}function Te(t){if(/^_\d+_$/.test(t)||/^_0x[0-9a-fA-F]+_$/.test(t)){let e=+t.slice(1,-1);if(Number.isSafeInteger(e)&&e>=0&&e<2**32)return e}return ff(t)}var Yo=L(()=>{});function Xo(t){let e=BigInt(t);if(t<=0)throw new RangeError("Input must be positive");return e.toString(2).length-1}function ro(t){let e=BigInt(t);if(t<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<e}var zo=L(()=>{});function Hi(){throw new Error("unexpected end of buffer")}function Vt(t,e){return t.byteLength<e&&Hi(),t.read(e)}function Dt(t){let e=t.readUint8();return e===void 0&&Hi(),e}function ee(t){if(typeof t=="number"&&(t=BigInt(t)),t<BigInt(0))throw new Error("Cannot leb encode negative values.");let e=(t===BigInt(0)?0:Xo(t))+1,r=new Ze(new Uint8Array(e),0);for(;;){let n=Number(t&BigInt(127));if(t/=BigInt(128),t===BigInt(0)){r.write(new Uint8Array([n]));break}else r.write(new Uint8Array([n|128]))}return r.buffer}function se(t){let e=BigInt(1),r=BigInt(0),n;do n=Dt(t),r+=BigInt(n&127).valueOf()*e,e*=BigInt(128);while(n>=128);return r}function ie(t){typeof t=="number"&&(t=BigInt(t));let e=t<BigInt(0);e&&(t=-t-BigInt(1));let r=(t===BigInt(0)?0:Xo(t))+1,n=new Ze(new Uint8Array(r),0);for(;;){let s=o(t);if(t/=BigInt(128),e&&t===BigInt(0)&&(s&64)!==0||!e&&t===BigInt(0)&&(s&64)===0){n.write(new Uint8Array([s]));break}else n.write(new Uint8Array([s|128]))}function o(s){let i=s%BigInt(128);return Number(e?BigInt(128)-i-BigInt(1):i)}return n.buffer}function pt(t){let e=new Uint8Array(t.buffer),r=0;for(;r<e.byteLength;r++)if(e[r]<128){if((e[r]&64)===0)return se(t);break}let n=new Uint8Array(Vt(t,r+1)),o=BigInt(0);for(let s=n.byteLength-1;s>=0;s--)o=o*BigInt(128)+BigInt(128-(n[s]&127)-1);return-o-BigInt(1)}function Gi(t,e){if(BigInt(t)<BigInt(0))throw new Error("Cannot write negative values.");return Wo(t,e)}function Wo(t,e){t=BigInt(t);let r=new Ze(new Uint8Array(Math.min(1,e)),0),n=0,o=BigInt(256),s=BigInt(0),i=Number(t%o);for(r.write(new Uint8Array([i]));++n<e;)t<0&&s===BigInt(0)&&i!==0&&(s=BigInt(1)),i=Number((t/o-s)%BigInt(256)),r.write(new Uint8Array([i])),o*=BigInt(256);return r.buffer}function Qo(t,e){if(e<=0||!Number.isInteger(e))throw new Error("Byte length must be a positive integer");let r=BigInt(Dt(t)),n=BigInt(1),o=0;for(;++o<e;){n*=BigInt(256);let s=BigInt(Dt(t));r=r+n*s}return r}function Zi(t,e){if(e<=0||!Number.isInteger(e))throw new Error("Byte length must be a positive integer");let r=Qo(t,e),n=BigInt(2)**(BigInt(8)*BigInt(e-1)+BigInt(7));return r>=n&&(r-=n*BigInt(2)),r}var Jo=L(()=>{to();zo()});var or={};Wa(or,{Bool:()=>zi,BoolClass:()=>io,ConstructType:()=>rt,Empty:()=>Yi,EmptyClass:()=>on,FixedIntClass:()=>yt,FixedNatClass:()=>tt,Float32:()=>tc,Float64:()=>rc,FloatClass:()=>an,Func:()=>xc,FuncClass:()=>nr,Int:()=>Ji,Int16:()=>oc,Int32:()=>sc,Int64:()=>ic,Int8:()=>nc,IntClass:()=>sn,Nat:()=>ec,Nat16:()=>ac,Nat32:()=>fc,Nat64:()=>uc,Nat8:()=>cc,NatClass:()=>cn,Null:()=>Wi,NullClass:()=>tr,Opt:()=>pc,OptClass:()=>Ft,PrimitiveType:()=>Oe,Principal:()=>dc,PrincipalClass:()=>fo,Rec:()=>bc,RecClass:()=>Le,Record:()=>mc,RecordClass:()=>rr,Reserved:()=>Xi,ReservedClass:()=>nt,Service:()=>gc,ServiceClass:()=>Sr,Text:()=>Qi,TextClass:()=>co,Tuple:()=>lc,TupleClass:()=>ao,Type:()=>Br,Unknown:()=>lf,UnknownClass:()=>so,Variant:()=>yc,VariantClass:()=>Ir,Vec:()=>hc,VecClass:()=>Tr,Visitor:()=>rs,decode:()=>df,encode:()=>uf,resetSubtypeCache:()=>ns,subtype:()=>ss});function nn(t,e,r){return t.map((n,o)=>r(n,e[o]))}function os(t){if(Dt(t)!==1)throw new Error("Cannot decode principal");let r=Number(se(t));return G.fromUint8Array(new Uint8Array(Vt(t,r)))}function oe(t){let e=JSON.stringify(t,(r,n)=>typeof n=="bigint"?`BigInt(${n})`:n);return e&&e.length>Ki?e.substring(0,Ki-3)+"...":e}function uf(t,e){if(e.length<t.length)throw Error("Wrong number of message arguments");let r=new ts;t.forEach(f=>f.buildTypeTable(r));let n=new TextEncoder().encode(no),o=r.encode(),s=ee(e.length),i=X(...t.map(f=>f.encodeType(r))),c=X(...nn(t,e,(f,h)=>{try{f.covariant(h)}catch(y){throw new Error(y.message+`

`)}return f.encodeValue(h)}));return X(n,o,s,i,c)}function df(t,e){let r=new Ze(e);if(e.byteLength<no.length)throw new Error("Message length smaller than magic number");let n=Vt(r,no.length),o=new TextDecoder().decode(n);if(o!==no)throw new Error("Wrong magic number: "+JSON.stringify(o));function s(u){let l=[],a=Number(se(u));for(let E=0;E<a;E++){let I=Number(pt(u));switch(I){case z.Opt:case z.Vector:{let T=Number(pt(u));l.push([I,T]);break}case z.Record:case z.Variant:{let T=[],C=Number(se(u)),b;for(;C--;){let A=Number(se(u));if(A>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof b=="number"&&b>=A)throw new Error("field id collision or not sorted");b=A;let U=Number(pt(u));T.push([A,U])}l.push([I,T]);break}case z.Func:{let T=[],C=Number(se(u));for(;C--;)T.push(Number(pt(u)));let b=[],A=Number(se(u));for(;A--;)b.push(Number(pt(u)));let U=[],q=Number(se(u));for(;q--;)switch(Number(se(u))){case 1:{U.push("query");break}case 2:{U.push("oneway");break}case 3:{U.push("composite_query");break}default:throw new Error("unknown annotation")}l.push([I,[T,b,U]]);break}case z.Service:{let T=Number(se(u)),C=[];for(;T--;){let b=Number(se(u)),A=new TextDecoder().decode(Vt(u,b)),U=pt(u);C.push([A,U])}l.push([I,C]);break}default:throw new Error("Illegal op_code: "+I)}}let w=[],x=Number(se(u));for(let E=0;E<x;E++)w.push(Number(pt(u)));return[l,w]}let[i,c]=s(r);if(c.length<t.length)throw new Error("Wrong number of return values");let f=i.map(u=>bc());function h(u){if(u<-24)throw new Error("future value not supported");if(u<0)switch(u){case-1:return Wi;case-2:return zi;case-3:return ec;case-4:return Ji;case-5:return cc;case-6:return ac;case-7:return fc;case-8:return uc;case-9:return nc;case-10:return oc;case-11:return sc;case-12:return ic;case-13:return tc;case-14:return rc;case-15:return Qi;case-16:return Xi;case-17:return Yi;case-24:return dc;default:throw new Error("Illegal op_code: "+u)}if(u>=i.length)throw new Error("type index out of range");return f[u]}function y(u){switch(u[0]){case z.Vector:{let l=h(u[1]);return hc(l)}case z.Opt:{let l=h(u[1]);return pc(l)}case z.Record:{let l={};for(let[x,E]of u[1]){let I=`_${x}_`;l[I]=h(E)}let a=mc(l),w=a.tryAsTuple();return Array.isArray(w)?lc(...w):a}case z.Variant:{let l={};for(let[a,w]of u[1]){let x=`_${a}_`;l[x]=h(w)}return yc(l)}case z.Func:{let[l,a,w]=u[1];return xc(l.map(x=>h(x)),a.map(x=>h(x)),w)}case z.Service:{let l={},a=u[1];for(let[w,x]of a){let E=h(x);if(E instanceof Le&&(E=E.getType()),!(E instanceof nr))throw new Error("Illegal service definition: services can only contain functions");l[w]=E}return gc(l)}default:throw new Error("Illegal op_code: "+u[0])}}i.forEach((u,l)=>{if(u[0]===z.Func){let a=y(u);f[l].fill(a)}}),i.forEach((u,l)=>{if(u[0]!==z.Func){let a=y(u);f[l].fill(a)}}),ns();let p=c.map(u=>h(u));try{let u=t.map((l,a)=>l.decodeValue(r,p[a]));for(let l=t.length;l<p.length;l++)p[l].decodeValue(r,p[l]);if(r.byteLength>0)throw new Error("decode: Left-over bytes");return u}finally{ns()}}function lc(...t){return new ao(t)}function hc(t){return new Tr(t)}function pc(t){return new Ft(t)}function mc(t){return new rr(t)}function yc(t){return new Ir(t)}function bc(){return new Le}function xc(t,e,r=[]){return new nr(t,e,r)}function gc(t){return new Sr(t)}function ns(){oo=new uo}function hf(t,e){let r=new Set(t.annotations),n=new Set(e.annotations);if(r.size!==n.size)return!1;for(let o of r)if(!n.has(o))return!1;return!0}function es(t){return t instanceof Ft||t instanceof tr||t instanceof nt}function ss(t,e){let r=oo.copy(),n=mt(r,t,e);return n?oo.add(t,e):oo.addNegative(t,e),n}function mt(t,e,r){if(e.name===r.name)return!0;let n=t.known(e,r);if(n!==void 0)return n;if(t.add(e,r),r instanceof nt||e instanceof on||e instanceof cn&&r instanceof sn)return!0;if(e instanceof Tr&&r instanceof Tr)return mt(t,e._type,r._type);if(r instanceof Ft)return!0;if(e instanceof rr&&r instanceof rr){let o=e.fieldsAsObject;for(let[s,i]of r._fields){let c=o[Te(s)];if(c){if(!mt(t,c,i))return!1}else if(!es(i))return!1}return!0}if(e instanceof nr&&r instanceof nr){if(!hf(e,r))return!1;for(let o=0;o<e.argTypes.length;o++){let s=e.argTypes[o];if(o<r.argTypes.length){if(!mt(t,r.argTypes[o],s))return!1}else if(!es(s))return!1}for(let o=0;o<r.retTypes.length;o++){let s=r.retTypes[o];if(o<e.retTypes.length){if(!mt(t,e.retTypes[o],s))return!1}else if(!es(s))return!1}return!0}if(e instanceof Ir&&r instanceof Ir){let o=r.alternativesAsObject;for(let[s,i]of e._fields){let c=o[Te(s)];if(!c||!mt(t,i,c))return!1}return!0}if(e instanceof Sr&&r instanceof Sr){let o=e.fieldsAsObject();for(let[s,i]of r._fields){let c=o[s];if(!c||!mt(t,c,i))return!1}return!0}return e instanceof Le?mt(t,e.getType(),r):r instanceof Le?mt(t,e,r.getType()):!1}var z,no,Ki,ts,rs,F,Br,Oe,rt,on,so,io,tr,nt,co,sn,cn,an,yt,tt,Tr,Ft,rr,ao,Ir,Le,fo,nr,Sr,Yi,Xi,lf,zi,Wi,Qi,Ji,ec,tc,rc,nc,oc,sc,ic,cc,ac,fc,uc,dc,uo,oo,wc=L(()=>{qt();to();Yo();Jo();zo();(function(t){t[t.Null=-1]="Null",t[t.Bool=-2]="Bool",t[t.Nat=-3]="Nat",t[t.Int=-4]="Int",t[t.Float32=-13]="Float32",t[t.Float64=-14]="Float64",t[t.Text=-15]="Text",t[t.Reserved=-16]="Reserved",t[t.Empty=-17]="Empty",t[t.Opt=-18]="Opt",t[t.Vector=-19]="Vector",t[t.Record=-20]="Record",t[t.Variant=-21]="Variant",t[t.Func=-22]="Func",t[t.Service=-23]="Service",t[t.Principal=-24]="Principal"})(z||(z={}));no="DIDL",Ki=400;ts=class{constructor(){this._typs=[],this._idx=new Map}has(e){return this._idx.has(e.name)}add(e,r){let n=this._typs.length;this._idx.set(e.name,n),this._typs.push(r)}merge(e,r){let n=this._idx.get(e.name),o=this._idx.get(r);if(n===void 0)throw new Error("Missing type index for "+e);if(o===void 0)throw new Error("Missing type index for "+r);this._typs[n]=this._typs[o],this._typs.splice(o,1),this._idx.delete(r)}encode(){let e=ee(this._typs.length),r=X(...this._typs);return X(e,r)}indexOf(e){if(!this._idx.has(e))throw new Error("Missing type index for "+e);return ie(this._idx.get(e)||0)}},rs=class{visitType(e,r){throw new Error("Not implemented")}visitPrimitive(e,r){return this.visitType(e,r)}visitEmpty(e,r){return this.visitPrimitive(e,r)}visitBool(e,r){return this.visitPrimitive(e,r)}visitNull(e,r){return this.visitPrimitive(e,r)}visitReserved(e,r){return this.visitPrimitive(e,r)}visitText(e,r){return this.visitPrimitive(e,r)}visitNumber(e,r){return this.visitPrimitive(e,r)}visitInt(e,r){return this.visitNumber(e,r)}visitNat(e,r){return this.visitNumber(e,r)}visitFloat(e,r){return this.visitPrimitive(e,r)}visitFixedInt(e,r){return this.visitNumber(e,r)}visitFixedNat(e,r){return this.visitNumber(e,r)}visitPrincipal(e,r){return this.visitPrimitive(e,r)}visitConstruct(e,r){return this.visitType(e,r)}visitVec(e,r,n){return this.visitConstruct(e,n)}visitOpt(e,r,n){return this.visitConstruct(e,n)}visitRecord(e,r,n){return this.visitConstruct(e,n)}visitTuple(e,r,n){let o=r.map((s,i)=>[`_${i}_`,s]);return this.visitRecord(e,o,n)}visitVariant(e,r,n){return this.visitConstruct(e,n)}visitRec(e,r,n){return this.visitConstruct(r,n)}visitFunc(e,r){return this.visitConstruct(e,r)}visitService(e,r){return this.visitConstruct(e,r)}};(function(t){t.EmptyClass="__IDL_EmptyClass__",t.UnknownClass="__IDL_UnknownClass__",t.BoolClass="__IDL_BoolClass__",t.NullClass="__IDL_NullClass__",t.ReservedClass="__IDL_ReservedClass__",t.TextClass="__IDL_TextClass__",t.IntClass="__IDL_IntClass__",t.NatClass="__IDL_NatClass__",t.FloatClass="__IDL_FloatClass__",t.FixedIntClass="__IDL_FixedIntClass__",t.FixedNatClass="__IDL_FixedNatClass__",t.VecClass="__IDL_VecClass__",t.OptClass="__IDL_OptClass__",t.RecordClass="__IDL_RecordClass__",t.TupleClass="__IDL_TupleClass__",t.VariantClass="__IDL_VariantClass__",t.RecClass="__IDL_RecClass__",t.PrincipalClass="__IDL_PrincipalClass__",t.FuncClass="__IDL_FuncClass__",t.ServiceClass="__IDL_ServiceClass__"})(F||(F={}));Br=class{display(){return this.name}valueToString(e){return oe(e)}buildTypeTable(e){e.has(this)||this._buildTypeTableImpl(e)}},Oe=class extends Br{checkType(e){if(this.name!==e.name)throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`);return e}_buildTypeTableImpl(e){}},rt=class extends Br{checkType(e){if(e instanceof Le){let r=e.getType();if(typeof r>"u")throw new Error("type mismatch with uninitialized type");return r}throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`)}encodeType(e){return e.indexOf(this.name)}},on=class extends Oe{get typeName(){return F.EmptyClass}static[Symbol.hasInstance](e){return e.typeName===F.EmptyClass}accept(e,r){return e.visitEmpty(this,r)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return ie(z.Empty)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}},so=class extends Br{get typeName(){return F.UnknownClass}static[Symbol.hasInstance](e){return e.typeName===F.UnknownClass}checkType(e){throw new Error("Method not implemented for unknown.")}accept(e,r){throw e.visitType(this,r)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(e,r){let n=r.decodeValue(e,r);Object(n)!==n&&(n=Object(n));let o;return r instanceof Le?o=()=>r.getType():o=()=>r,Object.defineProperty(n,"type",{value:o,writable:!0,enumerable:!1,configurable:!0}),n}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}},io=class extends Oe{get typeName(){return F.BoolClass}static[Symbol.hasInstance](e){return e.typeName===F.BoolClass}accept(e,r){return e.visitBool(this,r)}covariant(e){if(typeof e=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(e){return new Uint8Array([e?1:0])}encodeType(){return ie(z.Bool)}decodeValue(e,r){switch(this.checkType(r),Dt(e)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}},tr=class extends Oe{get typeName(){return F.NullClass}static[Symbol.hasInstance](e){return e.typeName===F.NullClass}accept(e,r){return e.visitNull(this,r)}covariant(e){if(e===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(){return new Uint8Array(0)}encodeType(){return ie(z.Null)}decodeValue(e,r){return this.checkType(r),null}get name(){return"null"}},nt=class extends Oe{get typeName(){return F.ReservedClass}static[Symbol.hasInstance](e){return e.typeName===F.ReservedClass}accept(e,r){return e.visitReserved(this,r)}covariant(e){return!0}encodeValue(){return new Uint8Array(0)}encodeType(){return ie(z.Reserved)}decodeValue(e,r){return r.name!==this.name&&r.decodeValue(e,r),null}get name(){return"reserved"}},co=class extends Oe{get typeName(){return F.TextClass}static[Symbol.hasInstance](e){return e.typeName===F.TextClass}accept(e,r){return e.visitText(this,r)}covariant(e){if(typeof e=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(e){let r=new TextEncoder().encode(e),n=ee(r.byteLength);return X(n,r)}encodeType(){return ie(z.Text)}decodeValue(e,r){this.checkType(r);let n=se(e),o=Vt(e,Number(n));return new TextDecoder("utf8",{fatal:!0}).decode(o)}get name(){return"text"}valueToString(e){return'"'+e+'"'}},sn=class extends Oe{get typeName(){return F.IntClass}static[Symbol.hasInstance](e){return e.typeName===F.IntClass}accept(e,r){return e.visitInt(this,r)}covariant(e){if(typeof e=="bigint"||Number.isInteger(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(e){return ie(e)}encodeType(){return ie(z.Int)}decodeValue(e,r){return this.checkType(r),pt(e)}get name(){return"int"}valueToString(e){return e.toString()}},cn=class extends Oe{get typeName(){return F.NatClass}static[Symbol.hasInstance](e){return e.typeName===F.NatClass}accept(e,r){return e.visitNat(this,r)}covariant(e){if(typeof e=="bigint"&&e>=BigInt(0)||Number.isInteger(e)&&e>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(e){return ee(e)}encodeType(){return ie(z.Nat)}decodeValue(e,r){return this.checkType(r),se(e)}get name(){return"nat"}valueToString(e){return e.toString()}},an=class extends Oe{get typeName(){return F.FloatClass}static[Symbol.hasInstance](e){return e.typeName===F.FloatClass}constructor(e){if(super(),this._bits=e,e!==32&&e!==64)throw new Error("not a valid float type")}accept(e,r){return e.visitFloat(this,r)}covariant(e){if(typeof e=="number"||e instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(e){let r=new ArrayBuffer(this._bits/8),n=new DataView(r);return this._bits===32?n.setFloat32(0,e,!0):n.setFloat64(0,e,!0),new Uint8Array(r)}encodeType(){let e=this._bits===32?z.Float32:z.Float64;return ie(e)}decodeValue(e,r){this.checkType(r);let n=Vt(e,this._bits/8),o=ji(n);return this._bits===32?o.getFloat32(0,!0):o.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(e){return e.toString()}},yt=class extends Oe{get typeName(){return F.FixedIntClass}static[Symbol.hasInstance](e){return e.typeName===F.FixedIntClass}constructor(e){super(),this._bits=e}accept(e,r){return e.visitFixedInt(this,r)}covariant(e){let r=ro(this._bits-1)*BigInt(-1),n=ro(this._bits-1)-BigInt(1),o=!1;if(typeof e=="bigint")o=e>=r&&e<=n;else if(Number.isInteger(e)){let s=BigInt(e);o=s>=r&&s<=n}else o=!1;if(o)return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(e){return Wo(e,this._bits/8)}encodeType(){let e=Math.log2(this._bits)-3;return ie(-9-e)}decodeValue(e,r){this.checkType(r);let n=Zi(e,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`int${this._bits}`}valueToString(e){return e.toString()}},tt=class extends Oe{get typeName(){return F.FixedNatClass}static[Symbol.hasInstance](e){return e.typeName===F.FixedNatClass}constructor(e){super(),this._bits=e}accept(e,r){return e.visitFixedNat(this,r)}covariant(e){let r=ro(this._bits),n=!1;if(typeof e=="bigint"&&e>=BigInt(0)?n=e<r:Number.isInteger(e)&&e>=0?n=BigInt(e)<r:n=!1,n)return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(e){return Gi(e,this._bits/8)}encodeType(){let e=Math.log2(this._bits)-3;return ie(-5-e)}decodeValue(e,r){this.checkType(r);let n=Qo(e,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`nat${this._bits}`}valueToString(e){return e.toString()}},Tr=class t extends rt{get typeName(){return F.VecClass}static[Symbol.hasInstance](e){return e.typeName===F.VecClass}constructor(e){super(),this._type=e,this._blobOptimization=!1,e instanceof tt&&e._bits===8&&(this._blobOptimization=!0)}accept(e,r){return e.visitVec(this,this._type,r)}covariant(e){let r=this._type instanceof tt?this._type._bits:this._type instanceof yt?this._type._bits:0;if(ArrayBuffer.isView(e)&&r==e.BYTES_PER_ELEMENT*8||Array.isArray(e)&&e.every((n,o)=>{try{return this._type.covariant(n)}catch(s){throw new Error(`Invalid ${this.display()} argument: 

index ${o} -> ${s.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(e){let r=ee(e.length);if(this._blobOptimization)return X(r,new Uint8Array(e));if(ArrayBuffer.isView(e))if(e instanceof Int16Array||e instanceof Uint16Array){let o=new DataView(new ArrayBuffer(e.length*2));for(let s=0;s<e.length;s++)e instanceof Int16Array?o.setInt16(s*2,e[s],!0):o.setUint16(s*2,e[s],!0);return X(r,new Uint8Array(o.buffer))}else if(e instanceof Int32Array||e instanceof Uint32Array){let o=new DataView(new ArrayBuffer(e.length*4));for(let s=0;s<e.length;s++)e instanceof Int32Array?o.setInt32(s*4,e[s],!0):o.setUint32(s*4,e[s],!0);return X(r,new Uint8Array(o.buffer))}else if(e instanceof BigInt64Array||e instanceof BigUint64Array){let o=new DataView(new ArrayBuffer(e.length*8));for(let s=0;s<e.length;s++)e instanceof BigInt64Array?o.setBigInt64(s*8,e[s],!0):o.setBigUint64(s*8,e[s],!0);return X(r,new Uint8Array(o.buffer))}else return X(r,new Uint8Array(e.buffer,e.byteOffset,e.byteLength));let n=new Ze(new Uint8Array(r.byteLength+e.length),0);n.write(r);for(let o of e){let s=this._type.encodeValue(o);n.write(new Uint8Array(s))}return n.buffer}_buildTypeTableImpl(e){this._type.buildTypeTable(e);let r=ie(z.Vector),n=this._type.encodeType(e);e.add(this,X(r,n))}decodeValue(e,r){let n=this.checkType(r);if(!(n instanceof t))throw new Error("Not a vector type");let o=Number(se(e));if(this._type instanceof tt){if(this._type._bits==8)return new Uint8Array(e.read(o));if(this._type._bits==16){let i=e.read(o*2);return new Uint16Array(i.buffer,i.byteOffset,o)}if(this._type._bits==32){let i=e.read(o*4);return new Uint32Array(i.buffer,i.byteOffset,o)}if(this._type._bits==64)return new BigUint64Array(e.read(o*8).buffer)}if(this._type instanceof yt){if(this._type._bits==8)return new Int8Array(e.read(o));if(this._type._bits==16){let i=e.read(o*2),c=new DataView(i.buffer,i.byteOffset,i.byteLength),f=new Int16Array(o);for(let h=0;h<o;h++)f[h]=c.getInt16(h*2,!0);return f}if(this._type._bits==32){let i=e.read(o*4),c=new DataView(i.buffer,i.byteOffset,i.byteLength),f=new Int32Array(o);for(let h=0;h<o;h++)f[h]=c.getInt32(h*4,!0);return f}if(this._type._bits==64){let i=e.read(o*8),c=new DataView(i.buffer,i.byteOffset,i.byteLength),f=new BigInt64Array(o);for(let h=0;h<o;h++)f[h]=c.getBigInt64(h*8,!0);return f}}let s=[];for(let i=0;i<o;i++)s.push(this._type.decodeValue(e,n._type));return s}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(e){return"vec {"+e.map(n=>this._type.valueToString(n)).join("; ")+"}"}},Ft=class t extends rt{get typeName(){return F.OptClass}static[Symbol.hasInstance](e){return e.typeName===F.OptClass}constructor(e){super(),this._type=e}accept(e,r){return e.visitOpt(this,this._type,r)}covariant(e){try{if(Array.isArray(e)&&(e.length===0||e.length===1&&this._type.covariant(e[0])))return!0}catch(r){throw new Error(`Invalid ${this.display()} argument: ${oe(e)} 

-> ${r.message}`)}throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(e){return e.length===0?new Uint8Array([0]):X(new Uint8Array([1]),this._type.encodeValue(e[0]))}_buildTypeTableImpl(e){this._type.buildTypeTable(e);let r=ie(z.Opt),n=this._type.encodeType(e);e.add(this,X(r,n))}decodeValue(e,r){if(r instanceof tr)return[];if(r instanceof nt)return[];let n=r;if(r instanceof Le){let o=r.getType();if(typeof o>"u")throw new Error("type mismatch with uninitialized type");n=o}if(n instanceof t)switch(Dt(e)){case 0:return[];case 1:{let o=e.save();try{return[this._type.decodeValue(e,n._type)]}catch{return e.restore(o),n._type.decodeValue(e,n._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof tr||this._type instanceof t||this._type instanceof nt)return n.decodeValue(e,n),[];{let o=e.save();try{return[this._type.decodeValue(e,r)]}catch{return e.restore(o),n.decodeValue(e,r),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(e){return e.length===0?"null":`opt ${this._type.valueToString(e[0])}`}},rr=class t extends rt{get typeName(){return F.RecordClass}static[Symbol.hasInstance](e){return e.typeName===F.RecordClass||e.typeName===F.TupleClass}constructor(e={}){super(),this._fields=Object.entries(e).sort((r,n)=>Te(r[0])-Te(n[0]))}accept(e,r){return e.visitRecord(this,this._fields,r)}tryAsTuple(){let e=[];for(let r=0;r<this._fields.length;r++){let[n,o]=this._fields[r];if(n!==`_${r}_`)return null;e.push(o)}return e}covariant(e){if(typeof e=="object"&&this._fields.every(([r,n])=>{if(!e.hasOwnProperty(r))throw new Error(`Record is missing key "${r}".`);try{return n.covariant(e[r])}catch(o){throw new Error(`Invalid ${this.display()} argument: 

field ${r} -> ${o.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(e){let r=this._fields.map(([o])=>e[o]),n=nn(this._fields,r,([,o],s)=>o.encodeValue(s));return X(...n)}_buildTypeTableImpl(e){this._fields.forEach(([s,i])=>i.buildTypeTable(e));let r=ie(z.Record),n=ee(this._fields.length),o=this._fields.map(([s,i])=>X(ee(Te(s)),i.encodeType(e)));e.add(this,X(r,n,X(...o)))}decodeValue(e,r){let n=this.checkType(r);if(!(n instanceof t))throw new Error("Not a record type");let o={},s=0,i=0;for(;i<n._fields.length;){let[c,f]=n._fields[i];if(s>=this._fields.length){f.decodeValue(e,f),i++;continue}let[h,y]=this._fields[s],p=Te(this._fields[s][0]),u=Te(c);if(p===u)o[h]=y.decodeValue(e,f),s++,i++;else if(u>p)if(y instanceof Ft||y instanceof nt)o[h]=[],s++;else throw new Error("Cannot find required field "+h);else f.decodeValue(e,f),i++}for(let[c,f]of this._fields.slice(s))if(f instanceof Ft||f instanceof nt)o[c]=[];else throw new Error("Cannot find required field "+c);return o}get fieldsAsObject(){let e={};for(let[r,n]of this._fields)e[Te(r)]=n;return e}get name(){return`record {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`record {${this._fields.map(([r,n])=>r+":"+n.display()).join("; ")}}`}valueToString(e){let r=this._fields.map(([o])=>e[o]);return`record {${nn(this._fields,r,([o,s],i)=>o+"="+s.valueToString(i)).join("; ")}}`}},ao=class t extends rr{get typeName(){return F.TupleClass}static[Symbol.hasInstance](e){return e.typeName===F.TupleClass}constructor(e){let r={};e.forEach((n,o)=>r["_"+o+"_"]=n),super(r),this._components=e}accept(e,r){return e.visitTuple(this,this._components,r)}covariant(e){if(Array.isArray(e)&&e.length>=this._fields.length&&this._components.every((r,n)=>{try{return r.covariant(e[n])}catch(o){throw new Error(`Invalid ${this.display()} argument: 

index ${n} -> ${o.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(e){let r=nn(this._components,e,(n,o)=>n.encodeValue(o));return X(...r)}decodeValue(e,r){let n=this.checkType(r);if(!(n instanceof t))throw new Error("not a tuple type");if(n._components.length<this._components.length)throw new Error("tuple mismatch");let o=[];for(let[s,i]of n._components.entries())s>=this._components.length?i.decodeValue(e,i):o.push(this._components[s].decodeValue(e,i));return o}display(){return`record {${this._components.map(r=>r.display()).join("; ")}}`}valueToString(e){return`record {${nn(this._components,e,(n,o)=>n.valueToString(o)).join("; ")}}`}},Ir=class t extends rt{get typeName(){return F.VariantClass}static[Symbol.hasInstance](e){return e.typeName===F.VariantClass}constructor(e={}){super(),this._fields=Object.entries(e).sort((r,n)=>Te(r[0])-Te(n[0]))}accept(e,r){return e.visitVariant(this,this._fields,r)}covariant(e){if(typeof e=="object"&&Object.entries(e).length===1&&this._fields.every(([r,n])=>{try{return!e.hasOwnProperty(r)||n.covariant(e[r])}catch(o){throw new Error(`Invalid ${this.display()} argument: 

variant ${r} -> ${o.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(e){for(let r=0;r<this._fields.length;r++){let[n,o]=this._fields[r];if(e.hasOwnProperty(n)){let s=ee(r),i=o.encodeValue(e[n]);return X(s,i)}}throw Error("Variant has no data: "+e)}_buildTypeTableImpl(e){this._fields.forEach(([,s])=>{s.buildTypeTable(e)});let r=ie(z.Variant),n=ee(this._fields.length),o=this._fields.map(([s,i])=>X(ee(Te(s)),i.encodeType(e)));e.add(this,X(r,n,...o))}decodeValue(e,r){let n=this.checkType(r);if(!(n instanceof t))throw new Error("Not a variant type");let o=Number(se(e));if(o>=n._fields.length)throw Error("Invalid variant index: "+o);let[s,i]=n._fields[o];for(let[c,f]of this._fields)if(Te(s)===Te(c)){let h=f.decodeValue(e,i);return{[c]:h}}throw new Error("Cannot find field hash "+s)}get name(){return`variant {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`variant {${this._fields.map(([r,n])=>r+(n.name==="null"?"":`:${n.display()}`)).join("; ")}}`}valueToString(e){for(let[r,n]of this._fields)if(e.hasOwnProperty(r)){let o=n.valueToString(e[r]);return o==="null"?`variant {${r}}`:`variant {${r}=${o}}`}throw new Error("Variant has no data: "+e)}get alternativesAsObject(){let e={};for(let[r,n]of this._fields)e[Te(r)]=n;return e}},Le=class t extends rt{constructor(){super(...arguments),this._id=t._counter++}get typeName(){return F.RecClass}static{this._counter=0}static[Symbol.hasInstance](e){return e.typeName===F.RecClass}accept(e,r){if(!this._type)throw Error("Recursive type uninitialized.");return e.visitRec(this,this._type,r)}fill(e){this._type=e}getType(){return this._type}covariant(e){if(this._type&&this._type.covariant(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(e)}_buildTypeTableImpl(e){if(!this._type)throw Error("Recursive type uninitialized.");e.add(this,new Uint8Array([])),this._type.buildTypeTable(e),e.merge(this,this._type.name)}decodeValue(e,r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(e,r)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`\u03BC${this.name}.${this._type.name}`}valueToString(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(e)}};fo=class extends Oe{get typeName(){return F.PrincipalClass}static[Symbol.hasInstance](e){return e.typeName===F.PrincipalClass}accept(e,r){return e.visitPrincipal(this,r)}covariant(e){if(e&&e._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(e){let r=e.toUint8Array(),n=ee(r.byteLength);return X(new Uint8Array([1]),n,r)}encodeType(){return ie(z.Principal)}decodeValue(e,r){return this.checkType(r),os(e)}get name(){return"principal"}valueToString(e){return`${this.name} "${e.toText()}"`}},nr=class extends rt{get typeName(){return F.FuncClass}static[Symbol.hasInstance](e){return e.typeName===F.FuncClass}static argsToString(e,r){if(e.length!==r.length)throw new Error("arity mismatch");return"("+e.map((n,o)=>n.valueToString(r[o])).join(", ")+")"}constructor(e,r,n=[]){super(),this.argTypes=e,this.retTypes=r,this.annotations=n}accept(e,r){return e.visitFunc(this,r)}covariant(e){if(Array.isArray(e)&&e.length===2&&e[0]&&e[0]._isPrincipal&&typeof e[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue([e,r]){let n=e.toUint8Array(),o=ee(n.byteLength),s=X(new Uint8Array([1]),o,n),i=new TextEncoder().encode(r),c=ee(i.byteLength);return X(new Uint8Array([1]),s,c,i)}_buildTypeTableImpl(e){this.argTypes.forEach(h=>h.buildTypeTable(e)),this.retTypes.forEach(h=>h.buildTypeTable(e));let r=ie(z.Func),n=ee(this.argTypes.length),o=X(...this.argTypes.map(h=>h.encodeType(e))),s=ee(this.retTypes.length),i=X(...this.retTypes.map(h=>h.encodeType(e))),c=ee(this.annotations.length),f=X(...this.annotations.map(h=>this.encodeAnnotation(h)));e.add(this,X(r,n,o,s,i,c,f))}decodeValue(e,r){let n=r instanceof Le?r.getType()??r:r;if(!ss(n,this))throw new Error(`Cannot decode function reference at type ${this.display()} from wire type ${n.display()}`);if(Dt(e)!==1)throw new Error("Cannot decode function reference");let s=os(e),i=Number(se(e)),c=Vt(e,i),h=new TextDecoder("utf8",{fatal:!0}).decode(c);return[s,h]}get name(){let e=this.argTypes.map(o=>o.name).join(", "),r=this.retTypes.map(o=>o.name).join(", "),n=" "+this.annotations.join(" ");return`(${e}) -> (${r})${n}`}valueToString([e,r]){return`func "${e.toText()}".${r}`}display(){let e=this.argTypes.map(o=>o.display()).join(", "),r=this.retTypes.map(o=>o.display()).join(", "),n=" "+this.annotations.join(" ");return`(${e}) \u2192 (${r})${n}`}encodeAnnotation(e){if(e==="query")return new Uint8Array([1]);if(e==="oneway")return new Uint8Array([2]);if(e==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}},Sr=class extends rt{get typeName(){return F.ServiceClass}static[Symbol.hasInstance](e){return e.typeName===F.ServiceClass}constructor(e){super(),this._fields=Object.entries(e).sort((r,n)=>r[0]<n[0]?-1:r[0]>n[0]?1:0)}accept(e,r){return e.visitService(this,r)}covariant(e){if(e&&e._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${oe(e)}`)}encodeValue(e){let r=e.toUint8Array(),n=ee(r.length);return X(new Uint8Array([1]),n,r)}_buildTypeTableImpl(e){this._fields.forEach(([s,i])=>i.buildTypeTable(e));let r=ie(z.Service),n=ee(this._fields.length),o=this._fields.map(([s,i])=>{let c=new TextEncoder().encode(s),f=ee(c.length);return X(f,c,i.encodeType(e))});e.add(this,X(r,n,...o))}decodeValue(e,r){let n=r instanceof Le?r.getType()??r:r;if(!ss(n,this))throw new Error(`Cannot decode service reference at type ${this.display()} from wire type ${n.display()}`);return os(e)}get name(){return`service {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}valueToString(e){return`service "${e.toText()}"`}fieldsAsObject(){let e={};for(let[r,n]of this._fields)e[r]=n;return e}};Yi=new on,Xi=new nt,lf=new so,zi=new io,Wi=new tr,Qi=new co,Ji=new sn,ec=new cn,tc=new an(32),rc=new an(64),nc=new yt(8),oc=new yt(16),sc=new yt(32),ic=new yt(64),cc=new tt(8),ac=new tt(16),fc=new tt(32),uc=new tt(64),dc=new fo;uo=class t{constructor(e=new Map){this.rels=e}copy(){let e=new Map;for(let[r,n]of this.rels.entries()){let o=new Map(n);e.set(r,o)}return new t(e)}known(e,r){return this.rels.get(e.name)?.get(r.name)}addNegative(e,r){this.addNames(e.name,r.name,!1)}add(e,r){this.addNames(e.name,r.name,!0)}display(){let e="";for(let[r,n]of this.rels)for(let[o,s]of n)e+=`${r} ${s?":<":"!<:"} ${o}
`;return e}addNames(e,r,n){let o=this.rels.get(e);if(o==null){let s=new Map;s.set(r,n),this.rels.set(e,s)}else o.set(r,n)}},oo=new uo});var Ec=L(()=>{});var _c=L(()=>{});var vc=L(()=>{});var fn=L(()=>{_c();Ec();wc();Yo();Jo();to();vc()});function Ar(t){if(!t)throw new Error("Input cannot be null or undefined");return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):Array.isArray(t)?new Uint8Array(t):"buffer"in t?Ar(t.buffer):new Uint8Array(t)}function sr(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var Or=L(()=>{});function is(t){if(typeof t=="string")return Bc(t);if(typeof t=="number")return ge(ee(t));if(t instanceof Uint8Array||ArrayBuffer.isView(t))return ge(Ar(t));if(Array.isArray(t)){let e=t.map(is);return ge($(...e))}else{if(t&&typeof t=="object"&&t._isPrincipal)return ge(t.toUint8Array());if(typeof t=="object"&&t!==null&&typeof t.toHash=="function")return is(t.toHash());if(typeof t=="object")return un(t);if(typeof t=="bigint")return ge(ee(t))}throw Y.fromCode(new Xn(t))}function lo(t){return un(t)}function un(t){let n=Object.entries(t).filter(([,i])=>i!==void 0).map(([i,c])=>{let f=Bc(i),h=is(c);return[f,h]}).sort(([i],[c])=>$i(i,c)),o=$(...n.map(i=>$(...i)));return ge(o)}var Bc,cs=L(()=>{fn();Ue();Or();ve();gr();Bc=t=>{let e=new TextEncoder().encode(t);return ge(e)}});var wl,Tc,El,Ic=L(()=>{wl=new TextEncoder().encode(`
ic-request`),Tc=new TextEncoder().encode("\vic-response"),El=new TextEncoder().encode("ic-request-auth-delegation")});var dn,as=L(()=>{qt();dn=class{getPrincipal(){return G.anonymous()}async transformRequest(e){return{...e,body:{content:e.body}}}}});function gf(t){return t==null}function Cc(t,e){let r=new Uint8Array(e);return r.set(t),r}function Ef(t){return(t&224)>>5}function _f(t){return t&31}function Rc(t,e){pn=t,ze=0;let r=ir(e);return e?.(r)??r}function ir(t){let[e,r]=ho();switch(e){case fe.UnsignedInteger:return Rr(r);case fe.NegativeInteger:return If(r);case fe.ByteString:return Nc(r);case fe.TextString:return us(r);case fe.Array:return vf(r,t);case fe.Map:return Tf(r,t);case fe.Tag:return Sf(r,t);case fe.Simple:return Bf(r)}throw new bt(`Unsupported major type: ${e}`)}function ho(){let t=pn.at(ze);if(gf(t))throw new bt("Provided CBOR data is empty");let e=Ef(t),r=_f(t);return ze++,[e,r]}function vf(t,e){let r=Rr(t);if(r===1/0){let o=[],s=ir(e);for(;s!==Oc;)o.push(e?.(s)??s),s=ir(e);return o}let n=new Array(r);for(let o=0;o<r;o++){let s=ir(e);n[o]=e?.(s)??s}return n}function Bf(t){switch(t){case Xe.False:return!1;case Xe.True:return!0;case Xe.Null:return null;case Xe.Undefined:return;case Xe.Break:return Oc}throw new bt(`Unrecognized simple type: ${t.toString(2)}`)}function Tf(t,e){let r=Rr(t),n={};if(r===1/0){let[o,s]=ho();for(;o!==fe.Simple&&s!==Xe.Break;){let i=us(s),c=ir(e);n[i]=e?.(c,i)??c,[o,s]=ho()}return n}for(let o=0;o<r;o++){let[s,i]=ho();if(s!==fe.TextString)throw new bt("Map keys must be text strings");let c=us(i),f=ir(e);n[c]=e?.(f,c)??f}return n}function Rr(t){if(t<=Ye.Value)return t;switch(ln=new DataView(pn.buffer,pn.byteOffset+ze),t){case Ye.OneByte:return ze++,ln.getUint8(0);case Ye.TwoBytes:return ze+=2,ln.getUint16(0,Cr);case Ye.FourBytes:return ze+=4,ln.getUint32(0,Cr);case Ye.EightBytes:return ze+=8,ln.getBigUint64(0,Cr);case Ye.Indefinite:return 1/0;default:throw new bt(`Unsupported integer info: ${t.toString(2)}`)}}function If(t){let e=Rr(t);return typeof e=="number"?-1-e:-1n-e}function Nc(t){let e=Rr(t);if(e>Number.MAX_SAFE_INTEGER)throw new bt("Byte length is too large");let r=Number(e);return ze+=r,pn.slice(ze-r,ze)}function us(t){let e=Nc(t);return wf.decode(e)}function Sf(t,e){let r=Rr(t);if(r===Ac)return ir(e);throw new bt(`Unsupported tag: ${r}.`)}function hn(t){return t<<5}function Uc(t,e){ae=0;let r=e?.(t)??t;return kf(Ac,r,e),qe.slice(0,ae)}function ds(t,e){if(ae>qe.length-Of&&(qe=Cc(qe,qe.length*2),Ke=new DataView(qe.buffer)),t===!1||t===!0||t===null||t===void 0){Uf(t);return}if(typeof t=="number"||typeof t=="bigint"){Lf(t);return}if(typeof t=="string"){Pc(t);return}if(t instanceof Uint8Array){Sc(t);return}if(t instanceof ArrayBuffer){Sc(new Uint8Array(t));return}if(Array.isArray(t)){Rf(t,e);return}if(typeof t=="object"){Nf(t,e);return}throw new mn(`Unsupported type: ${typeof t}`)}function Rf(t,e){Nr(fe.Array,t.length),t.forEach((r,n)=>{ds(e?.(r,n.toString())??r,e)})}function Nf(t,e){fs=Object.entries(t),Nr(fe.Map,fs.length),fs.forEach(([r,n])=>{Pc(r),ds(e?.(n,r)??n,e)})}function Nr(t,e){if(e<=pf){Ke.setUint8(ae++,hn(t)|Number(e));return}if(e<=mf){Ke.setUint8(ae++,hn(t)|Ye.OneByte),Ke.setUint8(ae,Number(e)),ae+=1;return}if(e<=yf){Ke.setUint8(ae++,hn(t)|Ye.TwoBytes),Ke.setUint16(ae,Number(e),Cr),ae+=2;return}if(e<=bf){Ke.setUint8(ae++,hn(t)|Ye.FourBytes),Ke.setUint32(ae,Number(e),Cr),ae+=4;return}if(e<=xf){Ke.setUint8(ae++,hn(t)|Ye.EightBytes),Ke.setBigUint64(ae,BigInt(e),Cr),ae+=8;return}throw new mn(`Value too large to encode: ${e}`)}function Uf(t){Nr(fe.Simple,qf(t))}function qf(t){if(t===!1)return Xe.False;if(t===!0)return Xe.True;if(t===null)return Xe.Null;if(t===void 0)return Xe.Undefined;throw new mn(`Unrecognized simple value: ${t.toString()}`)}function qc(t,e){Nr(t,e.length),ae>qe.length-e.length&&(qe=Cc(qe,qe.length+e.length),Ke=new DataView(qe.buffer)),qe.set(e,ae),ae+=e.length}function Mc(t,e){Nr(t,e)}function Mf(t){Mc(fe.UnsignedInteger,t)}function Pf(t){Mc(fe.NegativeInteger,typeof t=="bigint"?-1n-t:-1-t)}function Lf(t){t>=0?Mf(t):Pf(t)}function Pc(t){qc(fe.TextString,Cf.encode(t))}function Sc(t){qc(fe.ByteString,t)}function kf(t,e,r){Nr(fe.Tag,t),ds(e,r)}var bt,Ac,Oc,Xe,fe,pf,mf,yf,bf,xf,Ye,Cr,wf,pn,ln,ze,mn,Af,Of,Cf,qe,Ke,ae,fs,Lc=L(()=>{bt=class extends Error{constructor(e){super(e),this.name="DecodingError"}},Ac=55799,Oc=Symbol("CBOR_STOP_CODE"),Xe=(t=>(t[t.False=20]="False",t[t.True=21]="True",t[t.Null=22]="Null",t[t.Undefined=23]="Undefined",t[t.Break=31]="Break",t))(Xe||{}),fe=(t=>(t[t.UnsignedInteger=0]="UnsignedInteger",t[t.NegativeInteger=1]="NegativeInteger",t[t.ByteString=2]="ByteString",t[t.TextString=3]="TextString",t[t.Array=4]="Array",t[t.Map=5]="Map",t[t.Tag=6]="Tag",t[t.Simple=7]="Simple",t))(fe||{}),pf=23,mf=255,yf=65535,bf=4294967295,xf=BigInt("0xffffffffffffffff"),Ye=(t=>(t[t.Value=23]="Value",t[t.OneByte=24]="OneByte",t[t.TwoBytes=25]="TwoBytes",t[t.FourBytes=26]="FourBytes",t[t.EightBytes=27]="EightBytes",t[t.Indefinite=31]="Indefinite",t))(Ye||{}),Cr=!1;wf=new TextDecoder;pn=new Uint8Array,ze=0;mn=class extends Error{constructor(e){super(e),this.name="SerializationError"}},Af=2*1024,Of=100,Cf=new TextEncoder;qe=new Uint8Array(Af),Ke=new DataView(qe.buffer),ae=0,fs=[]});function Vf(t){return typeof t=="object"&&t!==null&&"toCborValue"in t}function po(t){try{return Uc(t,e=>G.isPrincipal(e)?e.toUint8Array():Ur.isExpiry(e)?e.toBigInt():Vf(e)?e.toCborValue():e)}catch(e){throw Y.fromCode(new Gn(e,t))}}function Me(t){try{return Rc(t)}catch(e){throw Y.fromCode(new Hn(e,t))}}var mo=L(()=>{qt();Lc();Ue();qr()});var yn,hs=L(()=>{yn=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){let t=new Uint32Array(1);return window.crypto.getRandomValues(t),t[0]}if(typeof crypto<"u"&&crypto.getRandomValues){let t=new Uint32Array(1);return crypto.getRandomValues(t),t[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)}});function bn(){let t=new ArrayBuffer(16),e=new DataView(t),r=yn(),n=yn(),o=yn(),s=yn();return e.setUint32(0,r),e.setUint32(4,n),e.setUint32(8,o),e.setUint32(12,s),Object.assign(new Uint8Array(t),{__nonce__:void 0})}var xt,yo,cr,xn=L(()=>{hs();(function(t){t.Query="read",t.ReadState="read_state",t.Call="call"})(xt||(xt={}));(function(t){t.Call="call"})(yo||(yo={}));(function(t){t.Query="query",t.ReadState="read_state"})(cr||(cr={}))});function ms(t=bn){return async e=>{let r=e.request.headers;e.request.headers=r,e.endpoint===xt.Call&&(e.body.nonce=t())}}function go(t){let e=[];return t.forEach((r,n)=>{e.push([n,r])}),e}var bo,ps,xo,kc,Ff,Ur,wo=L(()=>{fn();xn();Ue();bo="__expiry__",ps=BigInt(1e6),xo=ps*BigInt(1e3),kc=BigInt(60),Ff=60*1e3,Ur=class t{constructor(e){this.__expiry__=e,this._isExpiry=!0}static fromDeltaInMilliseconds(e){if(e<90*1e3){let c=BigInt(Date.now()+e)*ps/xo;return new t(c*xo)}let s=BigInt(Math.floor(Date.now()+e-Ff))*ps/xo/kc*kc*xo;return new t(s)}toBigInt(){return this.__expiry__}toHash(){return ee(this.__expiry__)}toString(){return this.__expiry__.toString()}toJSON(){return{[bo]:this.toString()}}static fromJSON(e){let r=JSON.parse(e);if(r[bo])try{let n=BigInt(r[bo]);return new t(n)}catch(n){throw new Y(new rn(`Not a valid BigInt: ${n}`))}throw new Y(new rn(`The input does not contain the key ${bo}`))}static isExpiry(e){return e instanceof t||typeof e=="object"&&e!==null&&"_isExpiry"in e&&e._isExpiry===!0&&"__expiry__"in e&&typeof e.__expiry__=="bigint"}}});function ar(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Dc(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?bs:BigInt("0x"+t)}function Ce(t){return Dc(Z(t))}function gt(t){return Q(t),Dc(Z(Uint8Array.from(t).reverse()))}function ue(t,e){return $e(t.toString(16).padStart(e*2,"0"))}function wt(t,e){return ue(t,e).reverse()}function te(t,e,r){let n;if(typeof e=="string")try{n=$e(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Kt(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let o=n.length;if(typeof r=="number"&&o!==r)throw new Error(t+" of length "+r+" expected, got "+o);return n}function Vc(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function xs(t,e,r){return ys(t)&&ys(e)&&ys(r)&&e<=t&&t<r}function fr(t,e,r,n){if(!xs(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function ot(t){let e;for(e=0;t>bs;t>>=Eo,e+=1);return e}function Fc(t,e){return t>>BigInt(e)&Eo}function $c(t){return typeof t=="function"&&Number.isSafeInteger(t.outputLen)}function Et(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(o,s,i){let c=t[o];if(i&&c===void 0)return;let f=typeof c;if(f!==s||c===null)throw new Error(`param "${o}" is invalid: expected ${s}, got ${f}`)}Object.entries(e).forEach(([o,s])=>n(o,s,!1)),Object.entries(r).forEach(([o,s])=>n(o,s,!0))}function $t(t){let e=new WeakMap;return(r,...n)=>{let o=e.get(r);if(o!==void 0)return o;let s=t(r,...n);return e.set(r,s),s}}var bs,Eo,ys,We,gs,st=L(()=>{ve();ve();bs=BigInt(0),Eo=BigInt(1);ys=t=>typeof t=="bigint"&&bs<=t;We=t=>(Eo<<BigInt(t))-Eo;gs=()=>{throw new Error("not implemented")}});function re(t,e){let r=t%e;return r>=Ie?r:e+r}function Qe(t,e,r){let n=t;for(;e-- >Ie;)n*=n,n%=r;return n}function jc(t,e){if(t===Ie)throw new Error("invert: expected non-zero number");if(e<=Ie)throw new Error("invert: expected positive modulus, got "+e);let r=re(t,e),n=e,o=Ie,s=pe,i=pe,c=Ie;for(;r!==Ie;){let h=n/r,y=n%r,p=o-i*h,u=s-c*h;n=r,r=y,o=i,s=c,i=p,c=u}if(n!==pe)throw new Error("invert: does not exist");return re(o,e)}function ws(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function Xc(t,e){let r=(t.ORDER+pe)/Gc,n=t.pow(e,r);return ws(t,n,e),n}function Hf(t,e){let r=(t.ORDER-Zc)/Kc,n=t.mul(e,ur),o=t.pow(n,r),s=t.mul(e,o),i=t.mul(t.mul(s,ur),o),c=t.mul(s,t.sub(i,t.ONE));return ws(t,c,e),c}function Gf(t){let e=Se(t),r=zc(t),n=r(e,e.neg(e.ONE)),o=r(e,n),s=r(e,e.neg(n)),i=(t+$f)/Yc;return(c,f)=>{let h=c.pow(f,i),y=c.mul(h,n),p=c.mul(h,o),u=c.mul(h,s),l=c.eql(c.sqr(y),f),a=c.eql(c.sqr(p),f);h=c.cmov(h,y,l),y=c.cmov(u,p,a);let w=c.eql(c.sqr(y),f),x=c.cmov(h,y,w);return ws(c,x,f),x}}function zc(t){if(t<Hc)throw new Error("sqrt is not defined for small field");let e=t-pe,r=0;for(;e%ur===Ie;)e/=ur,r++;let n=ur,o=Se(t);for(;gn(o,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Xc;let s=o.pow(n,e),i=(e+pe)/ur;return function(f,h){if(f.is0(h))return h;if(gn(f,h)!==1)throw new Error("Cannot find square root");let y=r,p=f.mul(f.ONE,s),u=f.pow(h,e),l=f.pow(h,i);for(;!f.eql(u,f.ONE);){if(f.is0(u))return f.ZERO;let a=1,w=f.sqr(u);for(;!f.eql(w,f.ONE);)if(a++,w=f.sqr(w),a===y)throw new Error("Cannot find square root");let x=pe<<BigInt(y-a-1),E=f.pow(p,x);y=a,p=f.sqr(E),u=f.mul(u,p),l=f.mul(l,E)}return l}}function Zf(t){return t%Gc===Hc?Xc:t%Kc===Zc?Hf:t%Yc===jf?Gf(t):zc(t)}function _o(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=Kf.reduce((n,o)=>(n[o]="function",n),e);return Et(t,r),t}function wn(t,e,r){if(r<Ie)throw new Error("invalid exponent, negatives unsupported");if(r===Ie)return t.ONE;if(r===pe)return e;let n=t.ONE,o=e;for(;r>Ie;)r&pe&&(n=t.mul(n,o)),o=t.sqr(o),r>>=pe;return n}function ke(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),o=e.reduce((i,c,f)=>t.is0(c)?i:(n[f]=i,t.mul(i,c)),t.ONE),s=t.inv(o);return e.reduceRight((i,c,f)=>t.is0(c)?i:(n[f]=t.mul(i,n[f]),t.mul(i,c)),s),n}function gn(t,e){let r=(t.ORDER-pe)/ur,n=t.pow(e,r),o=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),i=t.eql(n,t.neg(t.ONE));if(!o&&!s&&!i)throw new Error("invalid Legendre symbol result");return o?1:s?0:-1}function Wc(t,e){e!==void 0&&Fo(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Se(t,e,r=!1,n={}){if(t<=Ie)throw new Error("invalid field: expected ORDER > 0, got "+t);let o,s,i=!1,c;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");let u=e;u.BITS&&(o=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(r=u.isLE),typeof u.modOnDecode=="boolean"&&(i=u.modOnDecode),c=u.allowedLengths}else typeof e=="number"&&(o=e),n.sqrt&&(s=n.sqrt);let{nBitLength:f,nByteLength:h}=Wc(t,o);if(h>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let y,p=Object.freeze({ORDER:t,isLE:r,BITS:f,BYTES:h,MASK:We(f),ZERO:Ie,ONE:pe,allowedLengths:c,create:u=>re(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Ie<=u&&u<t},is0:u=>u===Ie,isValidNot0:u=>!p.is0(u)&&p.isValid(u),isOdd:u=>(u&pe)===pe,neg:u=>re(-u,t),eql:(u,l)=>u===l,sqr:u=>re(u*u,t),add:(u,l)=>re(u+l,t),sub:(u,l)=>re(u-l,t),mul:(u,l)=>re(u*l,t),pow:(u,l)=>wn(p,u,l),div:(u,l)=>re(u*jc(l,t),t),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>jc(u,t),sqrt:s||(u=>(y||(y=Zf(t)),y(p,u))),toBytes:u=>r?wt(u,h):ue(u,h),fromBytes:(u,l=!0)=>{if(c){if(!c.includes(u.length)||u.length>h)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+u.length);let w=new Uint8Array(h);w.set(u,r?0:w.length-u.length),u=w}if(u.length!==h)throw new Error("Field.fromBytes: expected "+h+" bytes, got "+u.length);let a=r?gt(u):Ce(u);if(i&&(a=re(a,t)),!l&&!p.isValid(a))throw new Error("invalid field element: outside of range 0..ORDER");return a},invertBatch:u=>ke(p,u),cmov:(u,l,a)=>a?l:u});return Object.freeze(p)}function Qc(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function vo(t){let e=Qc(t);return e+Math.ceil(e/2)}function Es(t,e,r=!1){let n=t.length,o=Qc(e),s=vo(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);let i=r?gt(t):Ce(t),c=re(i,e-pe)+pe;return r?wt(c,o):ue(c,o)}var Ie,pe,ur,Hc,Gc,Zc,$f,Kc,jf,Yc,_t,Kf,vt=L(()=>{st();Ie=BigInt(0),pe=BigInt(1),ur=BigInt(2),Hc=BigInt(3),Gc=BigInt(4),Zc=BigInt(5),$f=BigInt(7),Kc=BigInt(8),jf=BigInt(9),Yc=BigInt(16);_t=(t,e)=>(re(t,e)&pe)===pe,Kf=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function En(t,e){let r=e.negate();return t?r:e}function De(t,e){let r=ke(t.Fp,e.map(n=>n.Z));return e.map((n,o)=>t.fromAffine(n.toAffine(r[o])))}function ra(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function _s(t,e){ra(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),o=2**t,s=We(t),i=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:o,shiftBy:i}}function Jc(t,e,r){let{windowSize:n,mask:o,maxNumber:s,shiftBy:i}=r,c=Number(t&o),f=t>>i;c>n&&(c-=s,f+=dr);let h=e*n,y=h+Math.abs(c)-1,p=c===0,u=c<0,l=e%2!==0;return{nextN:f,offset:y,isZero:p,isNeg:u,isNegF:l,offsetF:h}}function Xf(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function zf(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}function Bs(t){return na.get(t)||1}function ea(t){if(t!==Mr)throw new Error("invalid wNAF")}function oa(t,e,r,n){let o=e,s=t.ZERO,i=t.ZERO;for(;r>Mr||n>Mr;)r&dr&&(s=s.add(o)),n&dr&&(i=i.add(o)),o=o.double(),r>>=dr,n>>=dr;return{p1:s,p2:i}}function Lr(t,e,r,n){Xf(r,t),zf(n,e);let o=r.length,s=n.length;if(o!==s)throw new Error("arrays of points and scalars must have equal length");let i=t.ZERO,c=ot(BigInt(o)),f=1;c>12?f=c-3:c>4?f=c-2:c>0&&(f=2);let h=We(f),y=new Array(Number(h)+1).fill(i),p=Math.floor((e.BITS-1)/f)*f,u=i;for(let l=p;l>=0;l-=f){y.fill(i);for(let w=0;w<s;w++){let x=n[w],E=Number(x>>BigInt(l)&h);y[E]=y[E].add(r[w])}let a=i;for(let w=y.length-1,x=i;w>0;w--)x=x.add(y[w]),a=a.add(x);if(u=u.add(a),l!==0)for(let w=0;w<f;w++)u=u.double()}return u}function ta(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return _o(e),e}else return Se(t)}function Bo(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let c of["p","n","h"]){let f=e[c];if(!(typeof f=="bigint"&&f>Mr))throw new Error(`CURVE.${c} must be positive bigint`)}let n=ta(e.p,r.Fp),o=ta(e.n,r.Fn),i=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let c of i)if(!n.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:o}}var Mr,dr,vs,na,Pr,_n=L(()=>{st();vt();Mr=BigInt(0),dr=BigInt(1);vs=new WeakMap,na=new WeakMap;Pr=class{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let o=e;for(;r>Mr;)r&dr&&(n=n.add(o)),o=o.double(),r>>=dr;return n}precomputeWindow(e,r){let{windows:n,windowSize:o}=_s(r,this.bits),s=[],i=e,c=i;for(let f=0;f<n;f++){c=i,s.push(c);for(let h=1;h<o;h++)c=c.add(i),s.push(c);i=c.double()}return s}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let o=this.ZERO,s=this.BASE,i=_s(e,this.bits);for(let c=0;c<i.windows;c++){let{nextN:f,offset:h,isZero:y,isNeg:p,isNegF:u,offsetF:l}=Jc(n,c,i);n=f,y?s=s.add(En(u,r[l])):o=o.add(En(p,r[h]))}return ea(n),{p:o,f:s}}wNAFUnsafe(e,r,n,o=this.ZERO){let s=_s(e,this.bits);for(let i=0;i<s.windows&&n!==Mr;i++){let{nextN:c,offset:f,isZero:h,isNeg:y}=Jc(n,i,s);if(n=c,!h){let p=r[f];o=o.add(y?p.negate():p)}}return ea(n),o}getPrecomputes(e,r,n){let o=vs.get(r);return o||(o=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(o=n(o)),vs.set(r,o))),o}cached(e,r,n){let o=Bs(e);return this.wNAF(o,this.getPrecomputes(o,e,n),r)}unsafe(e,r,n,o){let s=Bs(e);return s===1?this._unsafeLadder(e,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,e,n),r,o)}createCache(e,r){ra(r,this.bits),na.set(e,r),vs.delete(e)}hasCache(e){return Bs(e)!==1}}});function jt(t,e){if(vn(t),vn(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function Qf(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function vn(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function sa(t){if(!Kt(t)&&typeof t!="string")throw new Error("DST must be Uint8Array or string");return typeof t=="string"?W(t):t}function Jf(t,e,r,n){Q(t),vn(r),e=sa(e),e.length>255&&(e=n($(W("H2C-OVERSIZE-DST-"),e)));let{outputLen:o,blockLen:s}=n,i=Math.ceil(r/o);if(r>65535||i>255)throw new Error("expand_message_xmd: invalid lenInBytes");let c=$(e,jt(e.length,1)),f=jt(0,s),h=jt(r,2),y=new Array(i),p=n($(f,t,h,jt(0,1),c));y[0]=n($(p,jt(1,1),c));for(let l=1;l<=i;l++){let a=[Qf(p,y[l-1]),jt(l+1,1),c];y[l]=n($(...a))}return $(...y).slice(0,r)}function eu(t,e,r,n,o){if(Q(t),vn(r),e=sa(e),e.length>255){let s=Math.ceil(2*n/8);e=o.create({dkLen:s}).update(W("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:r}).update(t).update(jt(r,2)).update(e).update(jt(e.length,1)).digest()}function Ts(t,e,r){Et(r,{p:"bigint",m:"number",k:"number",hash:"function"});let{p:n,k:o,m:s,hash:i,expand:c,DST:f}=r;if(!$c(r.hash))throw new Error("expected valid hash");Q(t),vn(e);let h=n.toString(2).length,y=Math.ceil((h+o)/8),p=e*s*y,u;if(c==="xmd")u=Jf(t,f,p,i);else if(c==="xof")u=eu(t,f,p,o,i);else if(c==="_internal_pass")u=t;else throw new Error('expand must be "xmd" or "xof"');let l=new Array(e);for(let a=0;a<e;a++){let w=new Array(s);for(let x=0;x<s;x++){let E=y*(x+a*s),I=u.subarray(E,E+y);w[x]=re(Wf(I),n)}l[a]=w}return l}function Is(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,o)=>{let[s,i,c,f]=r.map(p=>p.reduce((u,l)=>t.add(t.mul(u,n),l))),[h,y]=ke(t,[i,f],!0);return n=t.mul(s,h),o=t.mul(o,t.mul(c,y)),{x:n,y:o}}}function Ss(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");function n(s){return t.fromAffine(e(s))}function o(s){let i=s.clearCofactor();return i.equals(t.ZERO)?t.ZERO:(i.assertValidity(),i)}return{defaults:r,hashToCurve(s,i){let c=Object.assign({},r,i),f=Ts(s,2,c),h=n(f[0]),y=n(f[1]);return o(h.add(y))},encodeToCurve(s,i){let c=r.encodeDST?{DST:r.encodeDST}:{},f=Object.assign({},r,c,i),h=Ts(s,1,f),y=n(h[0]);return o(y)},mapToCurve(s){if(!Array.isArray(s))throw new Error("expected array of bigints");for(let i of s)if(typeof i!="bigint")throw new Error("expected array of bigints");return o(n(s))},hashToScalar(s,i){let c=t.Fn.ORDER,f=Object.assign({},r,{p:c,m:1,DST:tu},i);return Ts(s,1,f)[0][0]}}}var Wf,tu,As=L(()=>{st();vt();Wf=Ce;tu=W("HashToScalar-")});function ru(t,e,r){let[[n,o],[s,i]]=e,c=ia(i*t,r),f=ia(-o*t,r),h=t-c*n-f*s,y=-c*o-f*i,p=h<lr,u=y<lr;p&&(h=-h),u&&(y=-y);let l=We(Math.ceil(ot(r)/2))+Ae;if(h<lr||h>=l||y<lr||y>=l)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:p,k1:h,k2neg:u,k2:y}}function ca(t,e,r){function n(o){let s=t.sqr(o),i=t.mul(s,o);return t.add(t.add(i,t.mul(o,e)),r)}return n}function Bn(t,e){let{BYTES:r}=t,n;if(typeof e=="bigint")n=e;else{let o=te("private key",e);try{n=t.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function nu(t,e={}){let{Fp:r,Fn:n}=Bo("weierstrass",t,e),{h:o,n:s}=t;Et(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:i}=e;if(i&&(!r.is0(t.a)||typeof i.beta!="bigint"||!Array.isArray(i.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');function c(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(M,_,B){let{x:O,y:d}=_.toAffine(),m=r.toBytes(O);if(ar("isCompressed",B),B){c();let g=!r.isOdd(d);return $(ou(g),m)}else return $(Uint8Array.of(4),m,r.toBytes(d))}function h(M){Q(M);let _=r.BYTES,B=_+1,O=2*_+1,d=M.length,m=M[0],g=M.subarray(1);if(d===B&&(m===2||m===3)){let v=r.fromBytes(g);if(!r.isValid(v))throw new Error("bad point: is not on curve, wrong x");let R=u(v),S;try{S=r.sqrt(R)}catch(V){let D=V instanceof Error?": "+V.message:"";throw new Error("bad point: is not on curve, sqrt error"+D)}c();let N=r.isOdd(S);return(m&1)===1!==N&&(S=r.neg(S)),{x:v,y:S}}else if(d===O&&m===4){let v=r.fromBytes(g.subarray(_*0,_*1)),R=r.fromBytes(g.subarray(_*1,_*2));if(!l(v,R))throw new Error("bad point: is not on curve");return{x:v,y:R}}else throw new Error(`bad point: got length ${d}, expected compressed=${B} or uncompressed=${O}`)}let y=e.toBytes||f,p=e.fromBytes||h,u=ca(r,t.a,t.b);function l(M,_){let B=r.sqr(_),O=u(M);return r.eql(B,O)}if(!l(t.Gx,t.Gy))throw new Error("bad curve params: generator point");let a=r.mul(r.pow(t.a,kr),Os),w=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(a,w)))throw new Error("bad curve params: a or b");function x(M,_,B=!1){if(!r.isValid(_)||B&&r.is0(_))throw new Error(`bad point coordinate ${M}`);return _}function E(M){if(!(M instanceof A))throw new Error("ProjectivePoint expected")}function I(M){if(!i||!i.basises)throw new Error("no endo");return ru(M,i.basises,n.ORDER)}let T=$t((M,_)=>{let{X:B,Y:O,Z:d}=M;if(r.eql(d,r.ONE))return{x:B,y:O};let m=M.is0();_==null&&(_=m?r.ONE:r.inv(d));let g=r.mul(B,_),v=r.mul(O,_),R=r.mul(d,_);if(m)return{x:r.ZERO,y:r.ZERO};if(!r.eql(R,r.ONE))throw new Error("invZ was invalid");return{x:g,y:v}}),C=$t(M=>{if(M.is0()){if(e.allowInfinityPoint&&!r.is0(M.Y))return;throw new Error("bad point: ZERO")}let{x:_,y:B}=M.toAffine();if(!r.isValid(_)||!r.isValid(B))throw new Error("bad point: x or y not field elements");if(!l(_,B))throw new Error("bad point: equation left != right");if(!M.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function b(M,_,B,O,d){return B=new A(r.mul(B.X,M),B.Y,B.Z),_=En(O,_),B=En(d,B),_.add(B)}class A{constructor(_,B,O){this.X=x("x",_),this.Y=x("y",B,!0),this.Z=x("z",O),Object.freeze(this)}static fromAffine(_){let{x:B,y:O}=_||{};if(!_||!r.isValid(B)||!r.isValid(O))throw new Error("invalid affine point");if(_ instanceof A)throw new Error("projective point not allowed");return r.is0(B)&&r.is0(O)?A.ZERO:new A(B,O,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}static normalizeZ(_){return De(A,_)}static fromBytes(_){return Q(_),A.fromHex(_)}static fromHex(_){let B=A.fromAffine(p(te("pointHex",_)));return B.assertValidity(),B}static fromPrivateKey(_){return A.BASE.multiply(Bn(n,_))}static msm(_,B){return Lr(A,n,_,B)}_setWindowSize(_){this.precompute(_)}precompute(_=8,B=!0){return q.createCache(this,_),B||this.multiply(kr),this}assertValidity(){C(this)}hasEvenY(){let{y:_}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(_)}equals(_){E(_);let{X:B,Y:O,Z:d}=this,{X:m,Y:g,Z:v}=_,R=r.eql(r.mul(B,v),r.mul(m,d)),S=r.eql(r.mul(O,v),r.mul(g,d));return R&&S}negate(){return new A(this.X,r.neg(this.Y),this.Z)}double(){let{a:_,b:B}=t,O=r.mul(B,kr),{X:d,Y:m,Z:g}=this,v=r.ZERO,R=r.ZERO,S=r.ZERO,N=r.mul(d,d),j=r.mul(m,m),V=r.mul(g,g),D=r.mul(d,m);return D=r.add(D,D),S=r.mul(d,g),S=r.add(S,S),v=r.mul(_,S),R=r.mul(O,V),R=r.add(v,R),v=r.sub(j,R),R=r.add(j,R),R=r.mul(v,R),v=r.mul(D,v),S=r.mul(O,S),V=r.mul(_,V),D=r.sub(N,V),D=r.mul(_,D),D=r.add(D,S),S=r.add(N,N),N=r.add(S,N),N=r.add(N,V),N=r.mul(N,D),R=r.add(R,N),V=r.mul(m,g),V=r.add(V,V),N=r.mul(V,D),v=r.sub(v,N),S=r.mul(V,j),S=r.add(S,S),S=r.add(S,S),new A(v,R,S)}add(_){E(_);let{X:B,Y:O,Z:d}=this,{X:m,Y:g,Z:v}=_,R=r.ZERO,S=r.ZERO,N=r.ZERO,j=t.a,V=r.mul(t.b,kr),D=r.mul(B,m),xe=r.mul(O,g),_e=r.mul(d,v),Ot=r.add(B,O),le=r.add(m,g);Ot=r.mul(Ot,le),le=r.add(D,xe),Ot=r.sub(Ot,le),le=r.add(B,d);let Je=r.add(m,v);return le=r.mul(le,Je),Je=r.add(D,_e),le=r.sub(le,Je),Je=r.add(O,d),R=r.add(g,v),Je=r.mul(Je,R),R=r.add(xe,_e),Je=r.sub(Je,R),N=r.mul(j,le),R=r.mul(V,_e),N=r.add(R,N),R=r.sub(xe,N),N=r.add(xe,N),S=r.mul(R,N),xe=r.add(D,D),xe=r.add(xe,D),_e=r.mul(j,_e),le=r.mul(V,le),xe=r.add(xe,_e),_e=r.sub(D,_e),_e=r.mul(j,_e),le=r.add(le,_e),D=r.mul(xe,le),S=r.add(S,D),D=r.mul(Je,le),R=r.mul(Ot,R),R=r.sub(R,D),D=r.mul(Ot,xe),N=r.mul(Je,N),N=r.add(N,D),new A(R,S,N)}subtract(_){return this.add(_.negate())}is0(){return this.equals(A.ZERO)}multiply(_){let{endo:B}=e;if(!n.isValidNot0(_))throw new Error("invalid scalar: out of range");let O,d,m=g=>q.cached(this,g,v=>De(A,v));if(B){let{k1neg:g,k1:v,k2neg:R,k2:S}=I(_),{p:N,f:j}=m(v),{p:V,f:D}=m(S);d=j.add(D),O=b(B.beta,N,V,g,R)}else{let{p:g,f:v}=m(_);O=g,d=v}return De(A,[O,d])[0]}multiplyUnsafe(_){let{endo:B}=e,O=this;if(!n.isValid(_))throw new Error("invalid scalar: out of range");if(_===lr||O.is0())return A.ZERO;if(_===Ae)return O;if(q.hasCache(this))return this.multiply(_);if(B){let{k1neg:d,k1:m,k2neg:g,k2:v}=I(_),{p1:R,p2:S}=oa(A,O,m,v);return b(B.beta,R,S,d,g)}else return q.unsafe(O,_)}multiplyAndAddUnsafe(_,B,O){let d=this.multiplyUnsafe(B).add(_.multiplyUnsafe(O));return d.is0()?void 0:d}toAffine(_){return T(this,_)}isTorsionFree(){let{isTorsionFree:_}=e;return o===Ae?!0:_?_(A,this):q.unsafe(this,s).is0()}clearCofactor(){let{clearCofactor:_}=e;return o===Ae?this:_?_(A,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(_=!0){return ar("isCompressed",_),this.assertValidity(),y(A,this,_)}toRawBytes(_=!0){return this.toBytes(_)}toHex(_=!0){return Z(this.toBytes(_))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}A.BASE=new A(t.Gx,t.Gy,r.ONE),A.ZERO=new A(r.ZERO,r.ONE,r.ZERO),A.Fp=r,A.Fn=n;let U=n.BITS,q=new Pr(A,e.endo?Math.ceil(U/2):U);return A}function Cs(t){let{CURVE:e,curveOpts:r}=iu(t),n=nu(e,r);return cu(t,n)}function ou(t){return Uint8Array.of(t?2:3)}function su(t,e){let r=t.ORDER,n=lr;for(let a=r-Ae;a%Bt===lr;a/=Bt)n+=Ae;let o=n,s=Bt<<o-Ae-Ae,i=s*Bt,c=(r-Ae)/i,f=(c-Ae)/Bt,h=i-Ae,y=s,p=t.pow(e,c),u=t.pow(e,(c+Ae)/Bt),l=(a,w)=>{let x=p,E=t.pow(w,h),I=t.sqr(E);I=t.mul(I,w);let T=t.mul(a,I);T=t.pow(T,f),T=t.mul(T,E),E=t.mul(T,w),I=t.mul(T,a);let C=t.mul(I,E);T=t.pow(C,y);let b=t.eql(T,t.ONE);E=t.mul(I,u),T=t.mul(C,x),I=t.cmov(E,I,b),C=t.cmov(T,C,b);for(let A=o;A>Ae;A--){let U=A-Bt;U=Bt<<U-Ae;let q=t.pow(C,U),M=t.eql(q,t.ONE);E=t.mul(I,x),x=t.mul(x,x),q=t.mul(C,x),I=t.cmov(E,I,M),C=t.cmov(q,C,M)}return{isValid:b,value:I}};if(t.ORDER%Os===kr){let a=(t.ORDER-kr)/Os,w=t.sqrt(t.neg(e));l=(x,E)=>{let I=t.sqr(E),T=t.mul(x,E);I=t.mul(I,T);let C=t.pow(I,a);C=t.mul(C,T);let b=t.mul(C,w),A=t.mul(t.sqr(C),E),U=t.eql(A,x),q=t.cmov(b,C,U);return{isValid:U,value:q}}}return l}function Rs(t,e){_o(t);let{A:r,B:n,Z:o}=e;if(!t.isValid(r)||!t.isValid(n)||!t.isValid(o))throw new Error("mapToCurveSimpleSWU: invalid opts");let s=su(t,o);if(!t.isOdd)throw new Error("Field does not have .isOdd()");return i=>{let c,f,h,y,p,u,l,a;c=t.sqr(i),c=t.mul(c,o),f=t.sqr(c),f=t.add(f,c),h=t.add(f,t.ONE),h=t.mul(h,n),y=t.cmov(o,t.neg(f),!t.eql(f,t.ZERO)),y=t.mul(y,r),f=t.sqr(h),u=t.sqr(y),p=t.mul(u,r),f=t.add(f,p),f=t.mul(f,h),u=t.mul(u,y),p=t.mul(u,n),f=t.add(f,p),l=t.mul(c,h);let{isValid:w,value:x}=s(f,u);a=t.mul(c,i),a=t.mul(a,x),l=t.cmov(l,h,w),a=t.cmov(a,x,w);let E=t.isOdd(i)===t.isOdd(a);a=t.cmov(t.neg(a),a,E);let I=ke(t,[y],!0)[0];return l=t.mul(l,I),{x:l,y:a}}}function iu(t){let e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(i=>Math.ceil(i/2)))):void 0,o=Se(e.n,{BITS:t.nBitLength,allowedLengths:n,modOnDecode:t.wrapPrivateKey}),s={Fp:r,Fn:o,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function cu(t,e){let{Fp:r,Fn:n}=e;function o(i){return xs(i,Ae,n.ORDER)}let s=ca(r,t.a,t.b);return Object.assign({},{CURVE:t,Point:e,ProjectivePoint:e,normPrivateKeyToScalar:i=>Bn(n,i),weierstrassEquation:s,isWithinCurveOrder:o})}var ia,lr,Ae,Bt,kr,Os,Ns=L(()=>{st();_n();vt();ia=(t,e)=>(t+(t>=0?e:-e)/Bt)/e;lr=BigInt(0),Ae=BigInt(1),Bt=BigInt(2),kr=BigInt(3),Os=BigInt(4)});function fu(t){let e=[];for(;t>To;t>>=To)(t&To)===au?e.unshift(0):(t&Dr)===Dr?(e.unshift(-1),t+=To):e.unshift(1);return e}function Us(t){if(!Array.isArray(t)||t.length===0)throw new Error("expected non-empty array")}function uu(t,e,r,n){let{Fp2:o,Fp12:s}=t,{twistType:i,ateLoopSize:c,xNegative:f,postPrecompute:h}=n,y;if(i==="multiplicative")y=(T,C,b,A,U,q)=>s.mul014(A,T,o.mul(C,U),o.mul(b,q));else if(i==="divisive")y=(T,C,b,A,U,q)=>s.mul034(A,o.mul(b,q),o.mul(C,U),T);else throw new Error("bls: unknown twist type");let p=o.div(o.ONE,o.mul(o.ONE,aa));function u(T,C,b,A){let U=o.sqr(b),q=o.sqr(A),M=o.mulByB(o.mul(q,Dr)),_=o.mul(M,Dr),B=o.sub(o.sub(o.sqr(o.add(b,A)),q),U),O=o.sub(M,U),d=o.mul(o.sqr(C),Dr),m=o.neg(B);return T.push([O,d,m]),C=o.mul(o.mul(o.mul(o.sub(U,_),C),b),p),b=o.sub(o.sqr(o.mul(o.add(U,_),p)),o.mul(o.sqr(M),Dr)),A=o.mul(U,B),{Rx:C,Ry:b,Rz:A}}function l(T,C,b,A,U,q){let M=o.sub(b,o.mul(q,A)),_=o.sub(C,o.mul(U,A)),B=o.sub(o.mul(M,U),o.mul(_,q)),O=o.neg(M),d=_;T.push([B,O,d]);let m=o.sqr(_),g=o.mul(m,_),v=o.mul(m,C),R=o.add(o.sub(g,o.mul(v,aa)),o.mul(o.sqr(M),A));return C=o.mul(_,R),b=o.sub(o.mul(o.sub(v,R),M),o.mul(g,b)),A=o.mul(A,g),{Rx:C,Ry:b,Rz:A}}let a=fu(c),w=$t(T=>{let C=T,{x:b,y:A}=C.toAffine(),U=b,q=A,M=o.neg(A),_=U,B=q,O=o.ONE,d=[];for(let m of a){let g=[];({Rx:_,Ry:B,Rz:O}=u(g,_,B,O)),m&&({Rx:_,Ry:B,Rz:O}=l(g,_,B,O,U,m===-1?M:q)),d.push(g)}if(h){let m=d[d.length-1];h(_,B,O,U,q,l.bind(null,m))}return d});function x(T,C=!1){let b=s.ONE;if(T.length){let A=T[0][0].length;for(let U=0;U<A;U++){b=s.sqr(b);for(let[q,M,_]of T)for(let[B,O,d]of q[U])b=y(B,O,d,b,M,_)}}return f&&(b=s.conjugate(b)),C?s.finalExponentiate(b):b}function E(T,C=!0){let b=[];De(e,T.map(({g1:A})=>A)),De(r,T.map(({g2:A})=>A));for(let{g1:A,g2:U}of T){if(A.is0()||U.is0())throw new Error("pairing is not available for ZERO point");A.assertValidity(),U.assertValidity();let q=A.toAffine();b.push([w(U),q.x,q.y])}return x(b,C)}function I(T,C,b=!0){return E([{g1:T,g2:C}],b)}return{Fp12:s,millerLoopBatch:x,pairing:I,pairingBatch:E,calcPairingPrecomputes:w}}function fa(t,e,r,n,o){let{Fp12:s,pairingBatch:i}=t;function c(p){return p instanceof e.Point?p:e.Point.fromHex(p)}function f(p){return p instanceof r.Point?p:r.Point.fromHex(p)}function h(p){if(!(p instanceof r.Point))throw new Error(`expected valid message hashed to ${o?"G1":"G2"} curve`);return p}let y=o?(p,u)=>({g1:u,g2:p}):(p,u)=>({g1:p,g2:u});return{getPublicKey(p){let u=Bn(e.Point.Fn,p);return e.Point.BASE.multiply(u)},sign(p,u,l){if(l!=null)throw new Error("sign() expects 2 arguments");let a=Bn(e.Point.Fn,u);return h(p).assertValidity(),p.multiply(a)},verify(p,u,l,a){if(a!=null)throw new Error("verify() expects 3 arguments");p=f(p),l=c(l);let w=l.negate(),x=e.Point.BASE,E=h(u),I=p,T=i([y(w,E),y(x,I)]);return s.eql(T,s.ONE)},verifyBatch(p,u,l){if(Us(u),l.length!==u.length)throw new Error("amount of public keys and messages should be equal");let a=f(p),w=u,x=l.map(c),E=new Map;for(let C=0;C<x.length;C++){let b=x[C],A=w[C],U=E.get(A);U===void 0&&(U=[],E.set(A,U)),U.push(b)}let I=[],T=e.Point.BASE;try{for(let[C,b]of E){let A=b.reduce((U,q)=>U.add(q));I.push(y(A,C))}return I.push(y(T.negate(),a)),s.eql(i(I),s.ONE)}catch{return!1}},aggregatePublicKeys(p){Us(p),p=p.map(l=>c(l));let u=p.reduce((l,a)=>l.add(a),e.Point.ZERO);return u.assertValidity(),u},aggregateSignatures(p){Us(p),p=p.map(l=>f(l));let u=p.reduce((l,a)=>l.add(a),r.Point.ZERO);return u.assertValidity(),u},hash(p,u){Q(p);let l=u?{DST:u}:void 0;return r.hashToCurve(p,l)},Signature:n}}function ua(t){let{Fp:e,Fr:r,Fp2:n,Fp6:o,Fp12:s}=t.fields,i=Cs(t.G1),c=Object.assign(i,Ss(i.Point,t.G1.mapToCurve,{...t.htfDefaults,...t.G1.htfDefaults})),f=Cs(t.G2),h=Object.assign(f,Ss(f.Point,t.G2.mapToCurve,{...t.htfDefaults,...t.G2.htfDefaults})),y=uu(t.fields,c.Point,h.Point,{...t.params,postPrecompute:t.postPrecompute}),{millerLoopBatch:p,pairing:u,pairingBatch:l,calcPairingPrecomputes:a}=y,w=fa(y,c,h,t.G2.Signature,!1),x=fa(y,h,c,t.G1.ShortSignature,!0),E=t.randomBytes||xr,I=()=>{let S=vo(r.ORDER);return Es(E(S),r.ORDER)},T={randomSecretKey:I,randomPrivateKey:I,calcPairingPrecomputes:a},{ShortSignature:C}=t.G1,{Signature:b}=t.G2;function A(S,N){return S instanceof c.Point?S:x.hash(te("point",S),N?.DST)}function U(S,N){return S instanceof h.Point?S:w.hash(te("point",S),N?.DST)}function q(S){return w.getPublicKey(S).toBytes(!0)}function M(S){return x.getPublicKey(S).toBytes(!0)}function _(S,N,j){let V=U(S,j),D=w.sign(V,N);return S instanceof h.Point?D:b.toBytes(D)}function B(S,N,j){let V=A(S,j),D=x.sign(V,N);return S instanceof c.Point?D:C.toBytes(D)}function O(S,N,j,V){let D=U(N,V);return w.verify(S,D,j)}function d(S,N,j,V){let D=A(N,V);return x.verify(S,D,j)}function m(S){let N=w.aggregatePublicKeys(S);return S[0]instanceof c.Point?N:N.toBytes(!0)}function g(S){let N=w.aggregateSignatures(S);return S[0]instanceof h.Point?N:b.toBytes(N)}function v(S){let N=x.aggregateSignatures(S);return S[0]instanceof c.Point?N:C.toBytes(N)}function R(S,N,j,V){let D=N.map(xe=>U(xe,V));return w.verifyBatch(S,D,j)}return c.Point.BASE.precompute(4),{longSignatures:w,shortSignatures:x,millerLoopBatch:p,pairing:u,pairingBatch:l,verifyBatch:R,fields:{Fr:r,Fp:e,Fp2:n,Fp6:o,Fp12:s},params:{ateLoopSize:t.params.ateLoopSize,twistType:t.params.twistType,r:t.params.r,G1b:t.G1.b,G2b:t.G2.b},utils:T,getPublicKey:q,getPublicKeyForShortSignatures:M,sign:_,signShortSignature:B,verify:O,verifyShortSignature:d,aggregatePublicKeys:m,aggregateSignatures:g,aggregateShortSignatures:v,G1:c,G2:h,Signature:b,ShortSignature:C}}var au,To,aa,Dr,da=L(()=>{st();_n();As();vt();Ns();au=BigInt(0),To=BigInt(1),aa=BigInt(2),Dr=BigInt(3)});function qs(t,e,r,n,o=1,s){let i=BigInt(s===void 0?n:s),c=r**BigInt(n),f=[];for(let h=0;h<o;h++){let y=BigInt(h+1),p=[];for(let u=0,l=Vr;u<n;u++){let a=(y*l-y)/i%c;p.push(t.pow(e,a)),l*=r}f.push(p)}return f}function pa(t,e,r){let n=e.pow(r,(t.ORDER-Vr)/ha),o=e.pow(r,(t.ORDER-Vr)/Tt);function s(u,l){let a=e.mul(e.frobeniusMap(u,1),n),w=e.mul(e.frobeniusMap(l,1),o);return[a,w]}let i=e.pow(r,(t.ORDER**Tt-Vr)/ha),c=e.pow(r,(t.ORDER**Tt-Vr)/Tt);if(!e.eql(c,e.neg(e.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function f(u,l){return[e.mul(u,i),e.neg(l)]}let h=u=>(l,a)=>{let w=a.toAffine(),x=u(w.x,w.y);return l.fromAffine({x:x[0],y:x[1]})},y=h(s),p=h(f);return{psi:s,psi2:f,G2psi:y,G2psi2:p,PSI_X:n,PSI_Y:o,PSI2_X:i,PSI2_Y:c}}function ma(t){let{ORDER:e}=t,r=Se(e),n=r.create(t.NONRESIDUE||BigInt(-1)),o=r.div(r.ONE,Tt),s=qs(r,n,r.ORDER,2)[0],i=({c0:d,c1:m},{c0:g,c1:v})=>({c0:r.add(d,g),c1:r.add(m,v)}),c=({c0:d,c1:m},{c0:g,c1:v})=>({c0:r.sub(d,g),c1:r.sub(m,v)}),f=({c0:d,c1:m},g)=>{if(typeof g=="bigint")return{c0:r.mul(d,g),c1:r.mul(m,g)};let{c0:v,c1:R}=g,S=r.mul(d,v),N=r.mul(m,R),j=r.sub(S,N),V=r.sub(r.mul(r.add(d,m),r.add(v,R)),r.add(S,N));return{c0:j,c1:V}},h=({c0:d,c1:m})=>{let g=r.add(d,m),v=r.sub(d,m),R=r.add(d,d);return{c0:r.mul(g,v),c1:r.mul(R,m)}},y=d=>{if(d.length!==2)throw new Error("invalid tuple");let m=d.map(g=>r.create(g));return{c0:m[0],c1:m[1]}};function p(d,m){return typeof d=="bigint"&&la<=d&&d<m}let u=e*e,l=y(t.FP2_NONRESIDUE),a={ORDER:u,isLE:r.isLE,NONRESIDUE:l,BITS:ot(u),BYTES:Math.ceil(ot(u)/8),MASK:We(ot(u)),ZERO:{c0:r.ZERO,c1:r.ZERO},ONE:{c0:r.ONE,c1:r.ZERO},create:d=>d,isValid:({c0:d,c1:m})=>p(d,u)&&p(m,u),is0:({c0:d,c1:m})=>r.is0(d)&&r.is0(m),isValidNot0:d=>!a.is0(d)&&a.isValid(d),eql:({c0:d,c1:m},{c0:g,c1:v})=>r.eql(d,g)&&r.eql(m,v),neg:({c0:d,c1:m})=>({c0:r.neg(d),c1:r.neg(m)}),pow:(d,m)=>wn(a,d,m),invertBatch:d=>ke(a,d),add:i,sub:c,mul:f,sqr:h,addN:i,subN:c,mulN:f,sqrN:h,div:(d,m)=>a.mul(d,typeof m=="bigint"?r.inv(r.create(m)):a.inv(m)),inv:({c0:d,c1:m})=>{let g=r.inv(r.create(d*d+m*m));return{c0:r.mul(g,r.create(d)),c1:r.mul(g,r.create(-m))}},sqrt:d=>{if(t.Fp2sqrt)return t.Fp2sqrt(d);let{c0:m,c1:g}=d;if(r.is0(g))return gn(r,m)===1?a.create({c0:r.sqrt(m),c1:r.ZERO}):a.create({c0:r.ZERO,c1:r.sqrt(r.div(m,n))});let v=r.sqrt(r.sub(r.sqr(m),r.mul(r.sqr(g),n))),R=r.mul(r.add(v,m),o);gn(r,R)===-1&&(R=r.sub(R,v));let N=r.sqrt(R),j=a.create({c0:N,c1:r.div(r.mul(g,o),N)});if(!a.eql(a.sqr(j),d))throw new Error("Cannot find square root");let V=j,D=a.neg(V),{re:xe,im:_e}=a.reim(V),{re:Ot,im:le}=a.reim(D);return _e>le||_e===le&&xe>Ot?V:D},isOdd:d=>{let{re:m,im:g}=a.reim(d),v=m%Tt,R=m===la,S=g%Tt;return BigInt(v||R&&S)==Vr},fromBytes(d){if(d.length!==a.BYTES)throw new Error("fromBytes invalid length="+d.length);return{c0:r.fromBytes(d.subarray(0,r.BYTES)),c1:r.fromBytes(d.subarray(r.BYTES))}},toBytes:({c0:d,c1:m})=>$(r.toBytes(d),r.toBytes(m)),cmov:({c0:d,c1:m},{c0:g,c1:v},R)=>({c0:r.cmov(d,g,R),c1:r.cmov(m,v,R)}),reim:({c0:d,c1:m})=>({re:d,im:m}),mulByNonresidue:({c0:d,c1:m})=>a.mul({c0:d,c1:m},l),mulByB:t.Fp2mulByB,fromBigTuple:y,frobeniusMap:({c0:d,c1:m},g)=>({c0:d,c1:r.mul(m,s[g%2])})},w=({c0:d,c1:m,c2:g},{c0:v,c1:R,c2:S})=>({c0:a.add(d,v),c1:a.add(m,R),c2:a.add(g,S)}),x=({c0:d,c1:m,c2:g},{c0:v,c1:R,c2:S})=>({c0:a.sub(d,v),c1:a.sub(m,R),c2:a.sub(g,S)}),E=({c0:d,c1:m,c2:g},v)=>{if(typeof v=="bigint")return{c0:a.mul(d,v),c1:a.mul(m,v),c2:a.mul(g,v)};let{c0:R,c1:S,c2:N}=v,j=a.mul(d,R),V=a.mul(m,S),D=a.mul(g,N);return{c0:a.add(j,a.mulByNonresidue(a.sub(a.mul(a.add(m,g),a.add(S,N)),a.add(V,D)))),c1:a.add(a.sub(a.mul(a.add(d,m),a.add(R,S)),a.add(j,V)),a.mulByNonresidue(D)),c2:a.sub(a.add(V,a.mul(a.add(d,g),a.add(R,N))),a.add(j,D))}},I=({c0:d,c1:m,c2:g})=>{let v=a.sqr(d),R=a.mul(a.mul(d,m),Tt),S=a.mul(a.mul(m,g),Tt),N=a.sqr(g);return{c0:a.add(a.mulByNonresidue(S),v),c1:a.add(a.mulByNonresidue(N),R),c2:a.sub(a.sub(a.add(a.add(R,a.sqr(a.add(a.sub(d,m),g))),S),v),N)}},[T,C]=qs(a,l,r.ORDER,6,2,3),b={ORDER:a.ORDER,isLE:a.isLE,BITS:3*a.BITS,BYTES:3*a.BYTES,MASK:We(3*a.BITS),ZERO:{c0:a.ZERO,c1:a.ZERO,c2:a.ZERO},ONE:{c0:a.ONE,c1:a.ZERO,c2:a.ZERO},create:d=>d,isValid:({c0:d,c1:m,c2:g})=>a.isValid(d)&&a.isValid(m)&&a.isValid(g),is0:({c0:d,c1:m,c2:g})=>a.is0(d)&&a.is0(m)&&a.is0(g),isValidNot0:d=>!b.is0(d)&&b.isValid(d),neg:({c0:d,c1:m,c2:g})=>({c0:a.neg(d),c1:a.neg(m),c2:a.neg(g)}),eql:({c0:d,c1:m,c2:g},{c0:v,c1:R,c2:S})=>a.eql(d,v)&&a.eql(m,R)&&a.eql(g,S),sqrt:gs,div:(d,m)=>b.mul(d,typeof m=="bigint"?r.inv(r.create(m)):b.inv(m)),pow:(d,m)=>wn(b,d,m),invertBatch:d=>ke(b,d),add:w,sub:x,mul:E,sqr:I,addN:w,subN:x,mulN:E,sqrN:I,inv:({c0:d,c1:m,c2:g})=>{let v=a.sub(a.sqr(d),a.mulByNonresidue(a.mul(g,m))),R=a.sub(a.mulByNonresidue(a.sqr(g)),a.mul(d,m)),S=a.sub(a.sqr(m),a.mul(d,g)),N=a.inv(a.add(a.mulByNonresidue(a.add(a.mul(g,R),a.mul(m,S))),a.mul(d,v)));return{c0:a.mul(N,v),c1:a.mul(N,R),c2:a.mul(N,S)}},fromBytes:d=>{if(d.length!==b.BYTES)throw new Error("fromBytes invalid length="+d.length);return{c0:a.fromBytes(d.subarray(0,a.BYTES)),c1:a.fromBytes(d.subarray(a.BYTES,2*a.BYTES)),c2:a.fromBytes(d.subarray(2*a.BYTES))}},toBytes:({c0:d,c1:m,c2:g})=>$(a.toBytes(d),a.toBytes(m),a.toBytes(g)),cmov:({c0:d,c1:m,c2:g},{c0:v,c1:R,c2:S},N)=>({c0:a.cmov(d,v,N),c1:a.cmov(m,R,N),c2:a.cmov(g,S,N)}),fromBigSix:d=>{if(!Array.isArray(d)||d.length!==6)throw new Error("invalid Fp6 usage");return{c0:a.fromBigTuple(d.slice(0,2)),c1:a.fromBigTuple(d.slice(2,4)),c2:a.fromBigTuple(d.slice(4,6))}},frobeniusMap:({c0:d,c1:m,c2:g},v)=>({c0:a.frobeniusMap(d,v),c1:a.mul(a.frobeniusMap(m,v),T[v%6]),c2:a.mul(a.frobeniusMap(g,v),C[v%6])}),mulByFp2:({c0:d,c1:m,c2:g},v)=>({c0:a.mul(d,v),c1:a.mul(m,v),c2:a.mul(g,v)}),mulByNonresidue:({c0:d,c1:m,c2:g})=>({c0:a.mulByNonresidue(g),c1:d,c2:m}),mul1:({c0:d,c1:m,c2:g},v)=>({c0:a.mulByNonresidue(a.mul(g,v)),c1:a.mul(d,v),c2:a.mul(m,v)}),mul01({c0:d,c1:m,c2:g},v,R){let S=a.mul(d,v),N=a.mul(m,R);return{c0:a.add(a.mulByNonresidue(a.sub(a.mul(a.add(m,g),R),N)),S),c1:a.sub(a.sub(a.mul(a.add(v,R),a.add(d,m)),S),N),c2:a.add(a.sub(a.mul(a.add(d,g),v),S),N)}}},A=qs(a,l,r.ORDER,12,1,6)[0],U=({c0:d,c1:m},{c0:g,c1:v})=>({c0:b.add(d,g),c1:b.add(m,v)}),q=({c0:d,c1:m},{c0:g,c1:v})=>({c0:b.sub(d,g),c1:b.sub(m,v)}),M=({c0:d,c1:m},g)=>{if(typeof g=="bigint")return{c0:b.mul(d,g),c1:b.mul(m,g)};let{c0:v,c1:R}=g,S=b.mul(d,v),N=b.mul(m,R);return{c0:b.add(S,b.mulByNonresidue(N)),c1:b.sub(b.mul(b.add(d,m),b.add(v,R)),b.add(S,N))}},_=({c0:d,c1:m})=>{let g=b.mul(d,m);return{c0:b.sub(b.sub(b.mul(b.add(b.mulByNonresidue(m),d),b.add(d,m)),g),b.mulByNonresidue(g)),c1:b.add(g,g)}};function B(d,m){let g=a.sqr(d),v=a.sqr(m);return{first:a.add(a.mulByNonresidue(v),g),second:a.sub(a.sub(a.sqr(a.add(d,m)),g),v)}}let O={ORDER:a.ORDER,isLE:b.isLE,BITS:2*b.BITS,BYTES:2*b.BYTES,MASK:We(2*b.BITS),ZERO:{c0:b.ZERO,c1:b.ZERO},ONE:{c0:b.ONE,c1:b.ZERO},create:d=>d,isValid:({c0:d,c1:m})=>b.isValid(d)&&b.isValid(m),is0:({c0:d,c1:m})=>b.is0(d)&&b.is0(m),isValidNot0:d=>!O.is0(d)&&O.isValid(d),neg:({c0:d,c1:m})=>({c0:b.neg(d),c1:b.neg(m)}),eql:({c0:d,c1:m},{c0:g,c1:v})=>b.eql(d,g)&&b.eql(m,v),sqrt:gs,inv:({c0:d,c1:m})=>{let g=b.inv(b.sub(b.sqr(d),b.mulByNonresidue(b.sqr(m))));return{c0:b.mul(d,g),c1:b.neg(b.mul(m,g))}},div:(d,m)=>O.mul(d,typeof m=="bigint"?r.inv(r.create(m)):O.inv(m)),pow:(d,m)=>wn(O,d,m),invertBatch:d=>ke(O,d),add:U,sub:q,mul:M,sqr:_,addN:U,subN:q,mulN:M,sqrN:_,fromBytes:d=>{if(d.length!==O.BYTES)throw new Error("fromBytes invalid length="+d.length);return{c0:b.fromBytes(d.subarray(0,b.BYTES)),c1:b.fromBytes(d.subarray(b.BYTES))}},toBytes:({c0:d,c1:m})=>$(b.toBytes(d),b.toBytes(m)),cmov:({c0:d,c1:m},{c0:g,c1:v},R)=>({c0:b.cmov(d,g,R),c1:b.cmov(m,v,R)}),fromBigTwelve:d=>({c0:b.fromBigSix(d.slice(0,6)),c1:b.fromBigSix(d.slice(6,12))}),frobeniusMap(d,m){let{c0:g,c1:v,c2:R}=b.frobeniusMap(d.c1,m),S=A[m%12];return{c0:b.frobeniusMap(d.c0,m),c1:b.create({c0:a.mul(g,S),c1:a.mul(v,S),c2:a.mul(R,S)})}},mulByFp2:({c0:d,c1:m},g)=>({c0:b.mulByFp2(d,g),c1:b.mulByFp2(m,g)}),conjugate:({c0:d,c1:m})=>({c0:d,c1:b.neg(m)}),mul014:({c0:d,c1:m},g,v,R)=>{let S=b.mul01(d,g,v),N=b.mul1(m,R);return{c0:b.add(b.mulByNonresidue(N),S),c1:b.sub(b.sub(b.mul01(b.add(m,d),g,a.add(v,R)),S),N)}},mul034:({c0:d,c1:m},g,v,R)=>{let S=b.create({c0:a.mul(d.c0,g),c1:a.mul(d.c1,g),c2:a.mul(d.c2,g)}),N=b.mul01(m,v,R),j=b.mul01(b.add(d,m),a.add(g,v),R);return{c0:b.add(b.mulByNonresidue(N),S),c1:b.sub(j,b.add(S,N))}},_cyclotomicSquare:t.Fp12cyclotomicSquare,_cyclotomicExp:t.Fp12cyclotomicExp,finalExponentiate:t.Fp12finalExponentiate};return{Fp:r,Fp2:a,Fp6:b,Fp12:O,Fp4Square:B}}var la,Vr,Tt,ha,ya=L(()=>{st();vt();la=BigInt(0),Vr=BigInt(1),Tt=BigInt(2),ha=BigInt(3)});function Oo(t){t=t.slice();let e=t[0]&224,r=!!(e>>7&1),n=!!(e>>6&1),o=!!(e>>5&1);return t[0]&=31,{compressed:r,infinity:n,sort:o,value:t}}function In(t,e){if(t[0]&224)throw new Error("setMask: non-empty mask");return e.compressed&&(t[0]|=128),e.infinity&&(t[0]|=64),e.sort&&(t[0]|=32),t}function pu(t,e,r){let{BYTES:n,ORDER:o}=k,s=e.is0(),{x:i,y:c}=e.toAffine();if(r){if(s)return Ao.slice();let f=!!(c*me/o);return In(ue(i,n),{compressed:!0,sort:f})}else return s?$(Uint8Array.of(64),new Uint8Array(2*n-1)):$(ue(i,n),ue(c,n))}function Ls(t){t.assertValidity();let{BYTES:e,ORDER:r}=k,{x:n,y:o}=t.toAffine();if(t.is0())return Ao.slice();let s=!!(o*me/r);return In(ue(n,e),{compressed:!0,sort:s})}function mu(t){let{compressed:e,infinity:r,sort:n,value:o}=Oo(t),{BYTES:s,ORDER:i}=k;if(o.length===48&&e){let c=Ce(o),f=k.create(c&k.MASK);if(r){if(f!==we)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:we,y:we}}let h=k.add(k.pow(f,So),k.create(hr.b)),y=k.sqrt(h);if(!y)throw new Error("invalid G1 point: compressed point");return y*me/i!==BigInt(n)&&(y=k.neg(y)),{x:k.create(f),y:k.create(y)}}else if(o.length===96&&!e){let c=Ce(o.subarray(0,s)),f=Ce(o.subarray(s));if(r){if(c!==we||f!==we)throw new Error("G1: non-empty point at infinity");return Sn.G1.Point.ZERO.toAffine()}return{x:k.create(c),y:k.create(f)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function xa(t){let{infinity:e,sort:r,value:n}=Oo(te("signatureHex",t,48)),o=k.ORDER,s=Sn.G1.Point,i=Ce(n);if(e)return s.ZERO;let c=k.create(i&k.MASK),f=k.add(k.pow(c,So),k.create(hr.b)),h=k.sqrt(f);if(!h)throw new Error("invalid G1 point: compressed");let y=BigInt(r);h*me/o!==y&&(h=k.neg(h));let p=s.fromAffine({x:c,y:h});return p.assertValidity(),p}function yu(t,e,r){let{BYTES:n,ORDER:o}=k,s=e.is0(),{x:i,y:c}=e.toAffine();if(r){if(s)return $(Ao,ue(we,n));let f=!!(c.c1===we?c.c0*me/o:c.c1*me/o);return $(In(ue(i.c1,n),{compressed:!0,sort:f}),ue(i.c0,n))}else{if(s)return $(Uint8Array.of(64),new Uint8Array(4*n-1));let{re:f,im:h}=P.reim(i),{re:y,im:p}=P.reim(c);return $(ue(h,n),ue(f,n),ue(p,n),ue(y,n))}}function ks(t){t.assertValidity();let{BYTES:e}=k;if(t.is0())return $(Ao,ue(we,e));let{x:r,y:n}=t.toAffine(),{re:o,im:s}=P.reim(r),{re:i,im:c}=P.reim(n),h=!!((c>we?c*me:i*me)/k.ORDER&Io),y=o;return $(In(ue(s,e),{sort:h,compressed:!0}),ue(y,e))}function bu(t){let{BYTES:e,ORDER:r}=k,{compressed:n,infinity:o,sort:s,value:i}=Oo(t);if(!n&&!o&&s||!n&&o&&s||s&&o&&n)throw new Error("invalid encoding flag: "+(t[0]&224));let c=(f,h,y)=>Ce(f.slice(h,y));if(i.length===96&&n){if(o){if(i.reduce((a,w)=>a!==0?w+1:w,0)>0)throw new Error("invalid G2 point: compressed");return{x:P.ZERO,y:P.ZERO}}let f=c(i,0,e),h=c(i,e,2*e),y=P.create({c0:k.create(h),c1:k.create(f)}),p=P.add(P.pow(y,So),Vs.b),u=P.sqrt(p),l=u.c1===we?u.c0*me/r:u.c1*me/r?Io:we;return u=s&&l>0?u:P.neg(u),{x:y,y:u}}else if(i.length===192&&!n){if(o){if(i.reduce((u,l)=>u!==0?l+1:l,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:P.ZERO,y:P.ZERO}}let f=c(i,0*e,1*e),h=c(i,1*e,2*e),y=c(i,2*e,3*e),p=c(i,3*e,4*e);return{x:P.fromBigTuple([h,f]),y:P.fromBigTuple([p,y])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function ga(t){let{ORDER:e}=k,{infinity:r,sort:n,value:o}=Oo(te("signatureHex",t)),s=Sn.G2.Point,i=o.length/2;if(i!==48&&i!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");let c=Ce(o.slice(0,i)),f=Ce(o.slice(i));if(r)return s.ZERO;let h=k.create(c&k.MASK),y=k.create(f),p=P.create({c0:y,c1:h}),u=P.add(P.pow(p,So),Vs.b),l=P.sqrt(u);if(!l)throw new Error("Failed to find a square root");let{re:a,im:w}=P.reim(l),x=BigInt(n),E=w>we&&w*me/e!==x,I=w===we&&a*me/e!==x;(E||I)&&(l=P.neg(l));let T=s.fromAffine({x:p,y:l});return T.assertValidity(),T}function _u(t){let{x:e,y:r}=wu(k.create(t[0]));return gu(e,r)}function vu(t){let{x:e,y:r}=Eu(P.fromBigTuple(t));return xu(e,r)}var we,Io,me,So,Tn,Ht,du,hr,lu,k,P,Ds,Ms,K,ba,hu,Ps,Vs,Ao,Sn,xu,gu,wu,Eu,wa=L(()=>{gr();da();vt();st();As();ya();Ns();we=BigInt(0),Io=BigInt(1),me=BigInt(2),So=BigInt(3),Tn=BigInt(4),Ht=BigInt("0xd201000000010000"),du=ot(Ht),hr={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:we,b:Tn,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},lu=Se(hr.n,{modOnDecode:!0}),{Fp:k,Fp2:P,Fp6:Ds,Fp4Square:Ms,Fp12:K}=ma({ORDER:hr.p,FP2_NONRESIDUE:[Io,Io],Fp2mulByB:({c0:t,c1:e})=>{let r=k.mul(t,Tn),n=k.mul(e,Tn);return{c0:k.sub(r,n),c1:k.add(r,n)}},Fp12cyclotomicSquare:({c0:t,c1:e})=>{let{c0:r,c1:n,c2:o}=t,{c0:s,c1:i,c2:c}=e,{first:f,second:h}=Ms(r,i),{first:y,second:p}=Ms(s,o),{first:u,second:l}=Ms(n,c),a=P.mulByNonresidue(l);return{c0:Ds.create({c0:P.add(P.mul(P.sub(f,r),me),f),c1:P.add(P.mul(P.sub(y,n),me),y),c2:P.add(P.mul(P.sub(u,o),me),u)}),c1:Ds.create({c0:P.add(P.mul(P.add(a,s),me),a),c1:P.add(P.mul(P.add(h,i),me),h),c2:P.add(P.mul(P.add(p,c),me),p)})}},Fp12cyclotomicExp(t,e){let r=K.ONE;for(let n=du-1;n>=0;n--)r=K._cyclotomicSquare(r),Fc(e,n)&&(r=K.mul(r,t));return r},Fp12finalExponentiate:t=>{let e=Ht,r=K.div(K.frobeniusMap(t,6),t),n=K.mul(K.frobeniusMap(r,2),r),o=K.conjugate(K._cyclotomicExp(n,e)),s=K.mul(K.conjugate(K._cyclotomicSquare(n)),o),i=K.conjugate(K._cyclotomicExp(s,e)),c=K.conjugate(K._cyclotomicExp(i,e)),f=K.mul(K.conjugate(K._cyclotomicExp(c,e)),K._cyclotomicSquare(o)),h=K.conjugate(K._cyclotomicExp(f,e)),y=K.frobeniusMap(K.mul(o,c),2),p=K.frobeniusMap(K.mul(i,n),3),u=K.frobeniusMap(K.mul(f,K.conjugate(n)),1),l=K.mul(K.mul(h,K.conjugate(s)),n);return K.mul(K.mul(K.mul(y,p),u),l)}}),{G2psi:ba,G2psi2:hu}=pa(k,P,P.div(P.ONE,P.NONRESIDUE)),Ps=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:k.ORDER,m:2,k:128,expand:"xmd",hash:ge}),Vs={p:P.ORDER,n:hr.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:P.ZERO,b:P.fromBigTuple([Tn,Tn]),Gx:P.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:P.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},Ao=In(k.toBytes(we),{infinity:!0,compressed:!0});Sn=ua({fields:{Fp:k,Fp2:P,Fp6:Ds,Fp12:K,Fr:lu},G1:{...hr,Fp:k,htfDefaults:{...Ps,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(t,e)=>{let r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new t(k.mul(e.X,r),e.Y,e.Z);return e.multiplyUnsafe(Ht).negate().multiplyUnsafe(Ht).equals(n)},clearCofactor:(t,e)=>e.multiplyUnsafe(Ht).add(e),mapToCurve:_u,fromBytes:mu,toBytes:pu,ShortSignature:{fromBytes(t){return Q(t),xa(t)},fromHex(t){return xa(t)},toBytes(t){return Ls(t)},toRawBytes(t){return Ls(t)},toHex(t){return Z(Ls(t))}}},G2:{...Vs,Fp:P,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Ps},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:vu,isTorsionFree:(t,e)=>e.multiplyUnsafe(Ht).negate().equals(ba(t,e)),clearCofactor:(t,e)=>{let r=Ht,n=e.multiplyUnsafe(r).negate(),o=ba(t,e),s=e.double();return s=hu(t,s),s=s.subtract(o),o=n.add(o),o=o.multiplyUnsafe(r).negate(),s=s.add(o),s=s.subtract(n),s.subtract(e)},fromBytes:bu,toBytes:yu,Signature:{fromBytes(t){return Q(t),ga(t)},fromHex(t){return ga(t)},toBytes(t){return ks(t)},toRawBytes(t){return ks(t)},toHex(t){return Z(ks(t))}}},params:{ateLoopSize:Ht,r:hr.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:Ps,hash:ge}),xu=Is(P,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(t=>t.map(e=>P.fromBigTuple(e.map(BigInt))))),gu=Is(k,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),wu=Rs(k,{A:k.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:k.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:k.create(BigInt(11))}),Eu=Rs(P,{A:P.create({c0:k.create(we),c1:k.create(BigInt(240))}),B:P.create({c0:k.create(BigInt(1012)),c1:k.create(BigInt(1012))}),Z:P.create({c0:k.create(BigInt(-2)),c1:k.create(BigInt(-1))})})});function Ea(t,e,r){let n=typeof t=="string"?t:Z(t),o=typeof e=="string"?e:Z(e),s=typeof r=="string"?r:Z(r);return Sn.verifyShortSignature(o,s,n)}var Fs=L(()=>{wa();ve()});var $s,Fr,Co=L(()=>{fn();$s=t=>se(new Ze(t)),Fr=t=>{let e=$s(t);return new Date(Number(e)/1e6)}});function Tu(t,e){for(let r=0;r<t.length;r++)if(t[r]>e[r])return!0;return!1}function Su(t){let e=An.byteLength+Iu;if(t.byteLength!==e)throw J.fromCode(new _r(e,t.byteLength));let r=t.slice(0,An.byteLength);if(!sr(r,An))throw J.fromCode(new $n(An,r));return t.slice(An.byteLength)}function Ee(t){if(t.status===Re.Found&&t.value instanceof Uint8Array)return t.value}async function Ro(t){switch(t[0]){case be.Empty:return ge(On("ic-hashtree-empty"));case be.Pruned:return t[1];case be.Leaf:return ge($(On("ic-hashtree-leaf"),t[1]));case be.Labeled:return ge($(On("ic-hashtree-labeled"),t[1],await Ro(t[2])));case be.Fork:return ge($(On("ic-hashtree-fork"),await Ro(t[1]),await Ro(t[2])));default:throw kt}}function On(t){let e=new Uint8Array([t.length]),r=new TextEncoder().encode(t);return $(e,r)}function _a(t){return typeof t[0]=="string"?W(t[0]):t[0]}function mr(t,e){if(t.length===0)switch(e[0]){case be.Empty:return{status:Re.Absent};case be.Leaf:{if(!e[1])throw he.fromCode(new Lt("Invalid tree structure for leaf"));if(e[1]instanceof Uint8Array)return{status:Re.Found,value:e[1].slice(e[1].byteOffset,e[1].byteLength+e[1].byteOffset)};throw kt}case be.Pruned:return{status:Re.Unknown};case be.Labeled:case be.Fork:return{status:Re.Error};default:throw kt}let r=_a(t),n=Cn(r,e);switch(n.status){case ne.Found:return mr(t.slice(1),n.value);case ne.Absent:case ne.Greater:case ne.Less:return{status:Re.Absent};case ne.Unknown:return{status:Re.Unknown};default:throw kt}}function Uo(t,e){if(t.length===0)return{status:pr.Found,value:e};let r=_a(t),n=Cn(r,e);switch(n.status){case ne.Found:return Uo(t.slice(1),n.value);case ne.Unknown:return{status:pr.Unknown};case ne.Absent:case ne.Greater:case ne.Less:return{status:pr.Absent};default:throw kt}}function No(t){switch(t[0]){case be.Empty:return[];case be.Fork:return No(t[1]).concat(No(t[2]));default:return[t]}}function Cn(t,e){switch(e[0]){case be.Labeled:return Tu(t,e[1])?{status:ne.Greater}:sr(t,e[1])?{status:ne.Found,value:e[2]}:{status:ne.Less};case be.Fork:{let r=Cn(t,e[1]);switch(r.status){case ne.Greater:{let n=Cn(t,e[2]);return n.status===ne.Less?{status:ne.Absent}:n}case ne.Unknown:{let n=Cn(t,e[2]);return n.status===ne.Less?{status:ne.Unknown}:n}default:return r}}case be.Pruned:return{status:ne.Unknown};default:return{status:ne.Absent}}}function js(t){let{canisterId:e,subnetId:r,tree:n}=t,o=mr(["subnet",r.toUint8Array(),"canister_ranges"],n);if(o.status!==Re.Found)throw J.fromCode(new ht(`Could not find canister ranges for subnet ${r.toText()}`,o.status));if(!(o.value instanceof Uint8Array))throw J.fromCode(new Er(`Could not find canister ranges for subnet ${r.toText()}`));return Me(o.value).map(f=>[G.fromUint8Array(f[0]),G.fromUint8Array(f[1])]).some(f=>f[0].ltEq(e)&&f[1].gtEq(e))}var be,Gt,An,Iu,Re,pr,ne,$r=L(()=>{mo();Ue();qt();Fs();Co();qr();ve();Or();gr();(function(t){t[t.Empty=0]="Empty",t[t.Fork=1]="Fork",t[t.Labeled=2]="Labeled",t[t.Leaf=3]="Leaf",t[t.Pruned=4]="Pruned"})(be||(be={}));Gt=class t{#e=!1;static async create(e){let r=t.createUnverified(e);return await r.verify(),r}static createUnverified(e){return new t(e.certificate,e.rootKey,e.canisterId,e.blsVerify??Ea,e.maxAgeInMinutes,e.disableTimeVerification)}constructor(e,r,n,o,s=5,i=!1){this._rootKey=r,this._canisterId=n,this._blsVerify=o,this._maxAgeInMinutes=s,this.#e=i,this.cert=Me(e)}lookup_path(e){return mr(e,this.cert.tree)}lookup_subtree(e){return Uo(e,this.cert.tree)}async verify(){let e=await Ro(this.cert.tree),r=await this._checkDelegationAndGetKey(this.cert.delegation),n=this.cert.signature,o=Su(r),s=$(On("ic-state-root"),e),i=!1,c=Ee(this.lookup_path(["time"]));if(!c)throw J.fromCode(new Wt("Certificate does not contain a time"));if(!this.#e){let h=this._maxAgeInMinutes*60*1e3,y=Date.now(),p=y-h,u=y+3e5,l=Fr(c);if(l.getTime()<p)throw Be.fromCode(new Xr(this._maxAgeInMinutes,l,new Date(y),"past"));if(l.getTime()>u)throw Be.fromCode(new Xr(5,l,new Date(y),"future"))}try{i=await this._blsVerify(new Uint8Array(o),new Uint8Array(n),new Uint8Array(s))}catch{i=!1}if(!i)throw Be.fromCode(new Wt("Signature verification failed"))}async _checkDelegationAndGetKey(e){if(!e)return this._rootKey;let r=t.createUnverified({certificate:e.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,disableTimeVerification:!0});if(r.cert.delegation)throw J.fromCode(new Vn);if(await r.verify(),this._canisterId.toString()!==va&&!js({canisterId:this._canisterId,subnetId:G.fromUint8Array(new Uint8Array(e.subnet_id)),tree:r.cert.tree}))throw Be.fromCode(new wr(this._canisterId,e.subnet_id));let n=Ee(r.lookup_path(["subnet",e.subnet_id,"public_key"]));if(!n)throw Be.fromCode(new Fn(`Could not find subnet key for subnet 0x${Z(e.subnet_id)}`));return n}},An=$e("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),Iu=96;(function(t){t.Unknown="Unknown",t.Absent="Absent",t.Found="Found",t.Error="Error"})(Re||(Re={}));(function(t){t.Absent="Absent",t.Unknown="Unknown",t.Found="Found"})(pr||(pr={}));(function(t){t.Absent="Absent",t.Unknown="Unknown",t.Found="Found",t.Less="Less",t.Greater="Greater"})(ne||(ne={}))});var Hs,Au,Ou,Cu,Ba=L(()=>{qt();Ue();$r();mo();Co();ve();Hs=async t=>{let{agent:e,paths:r}=t,n=G.from(t.canisterId),o=[...new Set(r)],s=new Map,i=o.map((c,f)=>{let h=Ou(c,n);return(async()=>{try{let y=await e.readState(n,{paths:[h]});if(e.rootKey==null)throw ce.fromCode(new Ge);let p=await Gt.create({certificate:y.certificate,rootKey:e.rootKey,canisterId:n,disableTimeVerification:!0}),u=(w,x)=>{if(x==="subnet"){if(e.rootKey==null)throw ce.fromCode(new Ge);let E=Au(y.certificate,n,e.rootKey);return{path:x,data:E}}else return{path:x,data:Ee(w.lookup_path(h))}},{path:l,data:a}=u(p,o[f]);if(!a)console.warn(`Expected to find result for path ${l}, but instead found nothing.`),typeof l=="string"?s.set(l,null):s.set(l.key,null);else switch(l){case"time":{s.set(l,Fr(a));break}case"controllers":{s.set(l,Cu(a));break}case"module_hash":{s.set(l,Z(a));break}case"subnet":{s.set(l,a);break}case"candid":{s.set(l,new TextDecoder().decode(a));break}default:if(typeof l!="string"&&"key"in l&&"path"in l)switch(l.decodeStrategy){case"raw":s.set(l.key,a);break;case"leb128":{s.set(l.key,$s(a));break}case"cbor":{s.set(l.key,Me(a));break}case"hex":{s.set(l.key,Z(a));break}case"utf-8":s.set(l.key,new TextDecoder().decode(a))}}}catch(y){if(y instanceof je&&y.hasCode(Wt))throw y;typeof c!="string"&&"key"in c&&"path"in c?s.set(c.key,null):s.set(c,null),console.group(),console.warn(`Expected to find result for path ${c}, but instead found nothing.`),console.warn(y),console.groupEnd()}})()});return await Promise.all(i),s},Au=(t,e,r)=>{if(!e._isPrincipal)throw Y.fromCode(new Ne("Invalid canisterId"));let n=Me(t),o=n.tree,s=n.delegation,i;if(s&&s.subnet_id?i=G.fromUint8Array(new Uint8Array(s.subnet_id)):!s&&typeof r<"u"?(i=G.selfAuthenticating(new Uint8Array(r)),s={subnet_id:i.toUint8Array(),certificate:new Uint8Array(0)}):(i=G.selfAuthenticating(G.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),s={subnet_id:i.toUint8Array(),certificate:new Uint8Array(0)}),!js({canisterId:e,subnetId:i,tree:o}))throw Be.fromCode(new wr(e,s.subnet_id));let f=Uo(["subnet",s.subnet_id,"node"],o);if(f.status!==pr.Found)throw J.fromCode(new ht("Node not found",f.status));if(f.value instanceof Uint8Array)throw he.fromCode(new Lt("Invalid node tree"));let h=No(f.value),y=new Map;return h.forEach(p=>{let u=G.from(p[1]).toText(),l=mr(["public_key"],p[2]);if(l.status!==Re.Found)throw J.fromCode(new ht("Public key not found",l.status));let a=l.value;if(a.byteLength!==44)throw J.fromCode(new _r(44,a.byteLength));y.set(u,a)}),{subnetId:G.fromUint8Array(new Uint8Array(s.subnet_id)).toText(),nodeKeys:y}},Ou=(t,e)=>{let r=e.toUint8Array();switch(t){case"time":return[W("time")];case"controllers":return[W("canister"),r,W("controllers")];case"module_hash":return[W("canister"),r,W("module_hash")];case"subnet":return[W("subnet")];case"candid":return[W("canister"),r,W("metadata"),W("candid:service")];default:if("key"in t&&"path"in t)if(typeof t.path=="string"||t.path instanceof Uint8Array){let n=t.path,o=typeof n=="string"?W(n):n;return[W("canister"),r,W("metadata"),o]}else return t.path}throw he.fromCode(new Ne(`Error while encoding your path for canister status. Please ensure that your path ${t} was formatted correctly.`))},Cu=t=>Me(t).map(r=>G.fromUint8Array(r))});function Nu(t,e,r,n){let o=t.sqr(r),s=t.sqr(n),i=t.add(t.mul(e.a,o),s),c=t.add(t.ONE,t.mul(e.d,t.mul(o,s)));return t.eql(i,c)}function Uu(t,e={}){let{Fp:r,Fn:n}=Bo("edwards",t,e),{h:o,n:s}=t;Et(e,{},{uvRatio:"function"});let i=Gs<<BigInt(n.BYTES*8)-de,c=w=>r.create(w),f=e.uvRatio||((w,x)=>{try{return{isValid:!0,value:r.sqrt(r.div(w,x))}}catch{return{isValid:!1,value:it}}});if(!Nu(r,t,t.Gx,t.Gy))throw new Error("bad curve params: generator point");function h(w,x,E=!1){let I=E?de:it;return fr("coordinate "+w,x,I,i),x}function y(w){if(!(w instanceof l))throw new Error("ExtendedPoint expected")}let p=$t((w,x)=>{let{X:E,Y:I,Z:T}=w,C=w.is0();x==null&&(x=C?Ru:r.inv(T));let b=c(E*x),A=c(I*x),U=r.mul(T,x);if(C)return{x:it,y:de};if(U!==de)throw new Error("invZ was invalid");return{x:b,y:A}}),u=$t(w=>{let{a:x,d:E}=t;if(w.is0())throw new Error("bad point: ZERO");let{X:I,Y:T,Z:C,T:b}=w,A=c(I*I),U=c(T*T),q=c(C*C),M=c(q*q),_=c(A*x),B=c(q*c(_+U)),O=c(M+c(E*c(A*U)));if(B!==O)throw new Error("bad point: equation left != right (1)");let d=c(I*T),m=c(C*b);if(d!==m)throw new Error("bad point: equation left != right (2)");return!0});class l{constructor(x,E,I,T){this.X=h("x",x),this.Y=h("y",E),this.Z=h("z",I,!0),this.T=h("t",T),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(x){return De(l,x)}static msm(x,E){return Lr(l,n,x,E)}_setWindowSize(x){this.precompute(x)}static fromAffine(x){if(x instanceof l)throw new Error("extended point not allowed");let{x:E,y:I}=x||{};return h("x",E),h("y",I),new l(E,I,de,c(E*I))}precompute(x=8,E=!0){return a.createCache(this,x),E||this.multiply(Gs),this}assertValidity(){u(this)}equals(x){y(x);let{X:E,Y:I,Z:T}=this,{X:C,Y:b,Z:A}=x,U=c(E*A),q=c(C*T),M=c(I*A),_=c(b*T);return U===q&&M===_}is0(){return this.equals(l.ZERO)}negate(){return new l(c(-this.X),this.Y,this.Z,c(-this.T))}double(){let{a:x}=t,{X:E,Y:I,Z:T}=this,C=c(E*E),b=c(I*I),A=c(Gs*c(T*T)),U=c(x*C),q=E+I,M=c(c(q*q)-C-b),_=U+b,B=_-A,O=U-b,d=c(M*B),m=c(_*O),g=c(M*O),v=c(B*_);return new l(d,m,v,g)}add(x){y(x);let{a:E,d:I}=t,{X:T,Y:C,Z:b,T:A}=this,{X:U,Y:q,Z:M,T:_}=x,B=c(T*U),O=c(C*q),d=c(A*I*_),m=c(b*M),g=c((T+C)*(U+q)-B-O),v=m-d,R=m+d,S=c(O-E*B),N=c(g*v),j=c(R*S),V=c(g*S),D=c(v*R);return new l(N,j,D,V)}subtract(x){return this.add(x.negate())}multiply(x){let E=x;fr("scalar",E,de,s);let{p:I,f:T}=a.cached(this,E,C=>De(l,C));return De(l,[I,T])[0]}multiplyUnsafe(x,E=l.ZERO){let I=x;return fr("scalar",I,it,s),I===it?l.ZERO:this.is0()||I===de?this:a.unsafe(this,I,T=>De(l,T),E)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return a.unsafe(this,s).is0()}toAffine(x){return p(this,x)}clearCofactor(){return o===de?this:this.multiplyUnsafe(o)}static fromBytes(x,E=!1){return Q(x),l.fromHex(x,E)}static fromHex(x,E=!1){let{d:I,a:T}=t,C=r.BYTES;x=te("pointHex",x,C),ar("zip215",E);let b=x.slice(),A=x[C-1];b[C-1]=A&-129;let U=gt(b),q=E?i:r.ORDER;fr("pointHex.y",U,it,q);let M=c(U*U),_=c(M-de),B=c(I*M-T),{isValid:O,value:d}=f(_,B);if(!O)throw new Error("Point.fromHex: invalid y coordinate");let m=(d&de)===de,g=(A&128)!==0;if(!E&&d===it&&g)throw new Error("Point.fromHex: x=0 and x_0=1");return g!==m&&(d=c(-d)),l.fromAffine({x:d,y:U})}toBytes(){let{x,y:E}=this.toAffine(),I=wt(E,r.BYTES);return I[I.length-1]|=x&de?128:0,I}toRawBytes(){return this.toBytes()}toHex(){return Z(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}l.BASE=new l(t.Gx,t.Gy,de,c(t.Gx*t.Gy)),l.ZERO=new l(it,de,de,it),l.Fp=r,l.Fn=n;let a=new Pr(l,n.BYTES*8);return l}function qu(t,e,r){if(typeof e!="function")throw new Error('"hash" function param is required');Et(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:n}=r,{BASE:o,Fp:s,Fn:i}=t,c=i.ORDER,f=r.randomBytes||xr,h=r.adjustScalarBytes||(B=>B),y=r.domain||((B,O,d)=>{if(ar("phflag",d),O.length||d)throw new Error("Contexts/pre-hash are not supported");return B});function p(B){return i.create(B)}function u(B){return p(gt(B))}function l(B){let O=s.BYTES;B=te("private key",B,O);let d=te("hashed private key",e(B),2*O),m=h(d.slice(0,O)),g=d.slice(O,2*O),v=u(m);return{head:m,prefix:g,scalar:v}}function a(B){let{head:O,prefix:d,scalar:m}=l(B),g=o.multiply(m),v=g.toBytes();return{head:O,prefix:d,scalar:m,point:g,pointBytes:v}}function w(B){return a(B).pointBytes}function x(B=Uint8Array.of(),...O){let d=$(...O);return u(e(y(d,te("context",B),!!n)))}function E(B,O,d={}){B=te("message",B),n&&(B=n(B));let{prefix:m,scalar:g,pointBytes:v}=a(O),R=x(d.context,m,B),S=o.multiply(R).toBytes(),N=x(d.context,S,v,B),j=p(R+N*g);fr("signature.s",j,it,c);let V=s.BYTES,D=$(S,wt(j,V));return te("result",D,V*2)}let I={zip215:!0};function T(B,O,d,m=I){let{context:g,zip215:v}=m,R=s.BYTES;B=te("signature",B,2*R),O=te("message",O),d=te("publicKey",d,R),v!==void 0&&ar("zip215",v),n&&(O=n(O));let S=gt(B.slice(R,2*R)),N,j,V;try{N=t.fromHex(d,v),j=t.fromHex(B.slice(0,R),v),V=o.multiplyUnsafe(S)}catch{return!1}if(!v&&N.isSmallOrder())return!1;let D=x(g,j.toBytes(),N.toBytes(),O);return j.add(N.multiplyUnsafe(D)).subtract(V).clearCofactor().is0()}o.precompute(8);let C=s.BYTES,b={secret:C,public:C,signature:2*C,seed:C};function A(B=f(b.seed)){return B}let U={getExtendedPublicKey:a,randomSecretKey:A,isValidSecretKey:M,isValidPublicKey:_,randomPrivateKey:A,toMontgomery(B){let{y:O}=t.fromBytes(B),d=C===32;if(!d&&C!==57)throw new Error("only defined for 25519 and 448");let m=d?s.div(de+O,de-O):s.div(O-de,O+de);return s.toBytes(m)},toMontgomeryPriv(B){Q(B,C);let O=e(B.subarray(0,C));return h(O).subarray(0,C)},precompute(B=8,O=t.BASE){return O.precompute(B,!1)}};function q(B){let O=U.randomSecretKey(B);return{secretKey:O,publicKey:w(O)}}function M(B){try{return!!i.fromBytes(B,!1)}catch{return!1}}function _(B,O){try{return!!t.fromBytes(B,O)}catch{return!1}}return Object.freeze({keygen:q,getPublicKey:w,sign:E,verify:T,utils:U,Point:t,info:{type:"edwards",lengths:b}})}function Mu(t){let e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=Se(e.n,t.nBitLength,!0),o={Fp:r,Fn:n,uvRatio:t.uvRatio},s={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:o,hash:t.hash,eddsaOpts:s}}function Pu(t,e){return Object.assign({},e,{ExtendedPoint:e.Point,CURVE:t})}function Ta(t){let{CURVE:e,curveOpts:r,hash:n,eddsaOpts:o}=Mu(t),s=Uu(e,r),i=qu(s,n,o);return Pu(t,i)}var it,de,Gs,Ru,qo,Ia=L(()=>{st();_n();vt();it=BigInt(0),de=BigInt(1),Gs=BigInt(2),Ru=BigInt(8);qo=class{constructor(e){this.ep=e}static fromBytes(e){throw new Error("fromBytes must be implemented by subclass")}static fromHex(e){throw new Error("fromHex must be implemented by subclass")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toRawBytes(){return this.toBytes()}toHex(){return Z(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,r){return this.init(this.ep.precompute(e,r))}}});function Vu(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),o=BigInt(80),s=Rn.p,c=t*t%s*t%s,f=Qe(c,Sa,s)*c%s,h=Qe(f,It,s)*t%s,y=Qe(h,ku,s)*h%s,p=Qe(y,e,s)*y%s,u=Qe(p,r,s)*p%s,l=Qe(u,n,s)*u%s,a=Qe(l,o,s)*l%s,w=Qe(a,o,s)*l%s,x=Qe(w,e,s)*y%s;return{pow_p_5_8:Qe(x,Sa,s)*t%s,b2:c}}function Fu(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Xs(t,e){let r=Rn.p,n=re(e*e*e,r),o=re(n*n*e,r),s=Vu(t*o).pow_p_5_8,i=re(t*n*s,r),c=re(e*i*i,r),f=i,h=re(i*Zs,r),y=c===t,p=c===re(-t,r),u=c===re(-t*Zs,r);return y&&(i=f),(p||u)&&(i=h),_t(i,r)&&(i=re(-i,r)),{isValid:y||p,value:i}}function Oa(t){let{d:e}=Pe.CURVE,r=Pe.CURVE.Fp.ORDER,n=Pe.CURVE.Fp.create,o=n(Ks*t*t),s=n((o+It)*Zu),i=BigInt(-1),c=n((i-e*o)*n(o+e)),{isValid:f,value:h}=Xs(s,c),y=n(h*t);_t(y,r)||(y=n(-y)),f||(h=y),f||(i=o);let p=n(i*(o-It)*Ku-c),u=h*h,l=n((h+h)*c),a=n(p*Hu),w=n(It-u),x=n(It+u);return new Pe.Point(n(l*x),n(w*a),n(a*x),n(l*w))}function Xu(t){Q(t,64);let e=Ys(t.subarray(0,32)),r=Oa(e),n=Ys(t.subarray(32,64)),o=Oa(n);return new St(r.add(o))}var Lu,It,Sa,H0,ku,Du,Rn,Zs,yr,$u,ju,Pe,Ks,Hu,Gu,Zu,Ku,Aa,Yu,Ys,St,Ca=L(()=>{gr();ve();_n();Ia();vt();st();Lu=BigInt(0),It=BigInt(1),Sa=BigInt(2),H0=BigInt(3),ku=BigInt(5),Du=BigInt(8),Rn={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Du,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};Zs=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");yr=Se(Rn.p,{isLE:!0}),$u=Se(Rn.n,{isLE:!0}),ju={...Rn,Fp:yr,hash:ki,adjustScalarBytes:Fu,uvRatio:Xs},Pe=Ta(ju),Ks=Zs,Hu=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Gu=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Zu=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Ku=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Aa=t=>Xs(It,t),Yu=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ys=t=>Pe.CURVE.Fp.create(gt(t)&Yu);St=class t extends qo{constructor(e){super(e)}static fromAffine(e){return new t(Pe.Point.fromAffine(e))}assertSame(e){if(!(e instanceof t))throw new Error("RistrettoPoint expected")}init(e){return new t(e)}static hashToCurve(e){return Xu(te("ristrettoHash",e,64))}static fromBytes(e){Q(e,32);let{a:r,d:n}=Pe.CURVE,o=yr.ORDER,s=yr.create,i=Ys(e);if(!Vc(wt(i,32),e)||_t(i,o))throw new Error("invalid ristretto255 encoding 1");let c=s(i*i),f=s(It+r*c),h=s(It-r*c),y=s(f*f),p=s(h*h),u=s(r*n*y-p),{isValid:l,value:a}=Aa(s(u*p)),w=s(a*h),x=s(a*w*u),E=s((i+i)*w);_t(E,o)&&(E=s(-E));let I=s(f*x),T=s(E*I);if(!l||_t(T,o)||I===Lu)throw new Error("invalid ristretto255 encoding 2");return new t(new Pe.Point(E,I,It,T))}static fromHex(e){return t.fromBytes(te("ristrettoHex",e,32))}static msm(e,r){return Lr(t,Pe.Point.Fn,e,r)}toBytes(){let{X:e,Y:r,Z:n,T:o}=this.ep,s=yr.ORDER,i=yr.create,c=i(i(n+r)*i(n-r)),f=i(e*r),h=i(f*f),{value:y}=Aa(i(c*h)),p=i(y*c),u=i(y*f),l=i(p*u*o),a;if(_t(o*l,s)){let x=i(r*Ks),E=i(e*Ks);e=x,r=E,a=i(p*Gu)}else a=u;_t(e*l,s)&&(r=i(-r));let w=i((n-r)*a);return _t(w,s)&&(w=i(-w)),wt(w,32)}equals(e){this.assertSame(e);let{X:r,Y:n}=this.ep,{X:o,Y:s}=e.ep,i=yr.create,c=i(r*s)===i(n*o),f=i(n*s)===i(r*o);return c||f}is0(){return this.equals(t.ZERO)}};St.BASE=new St(Pe.Point.BASE);St.ZERO=new St(Pe.Point.ZERO);St.Fp=yr;St.Fn=$u});var Ra,Na,Mo,Ua=L(()=>{Mo=class{static{Ra=Symbol.iterator,Na=Symbol.toStringTag}#e;#t;constructor(e={}){this[Ra]=this.entries.bind(this),this[Na]="ExpirableMap";let{source:r=[],expirationTime:n=600*1e3}=e,o=Date.now();this.#e=new Map([...r].map(([s,i])=>[s,{value:i,timestamp:o}])),this.#t=n}prune(){let e=Date.now();for(let[r,n]of this.#e.entries())e-n.timestamp>this.#t&&this.#e.delete(r);return this}set(e,r){this.prune();let n={value:r,timestamp:Date.now()};return this.#e.set(e,n),this}get(e){let r=this.#e.get(e);if(r!==void 0){if(Date.now()-r.timestamp>this.#t){this.#e.delete(e);return}return r.value}}clear(){this.#e.clear()}entries(){let e=this.#e.entries();return function*(){for(let[n,o]of e)yield[n,o.value]}()}values(){let e=this.#e.values();return function*(){for(let n of e)yield n.value}()}keys(){return this.#e.keys()}forEach(e,r){for(let[n,o]of this.#e.entries())e.call(r,o.value,n,this)}has(e){return this.#e.has(e)}delete(e){return this.#e.delete(e)}get size(){return this.#e.size}}});function Pa(t,e){let r=2+qa(t.byteLength+1),n=e.byteLength+r+t.byteLength,o=0,s=new Uint8Array(1+qa(n)+n);return s[o++]=48,o+=Ma(s,o,n),s.set(e,o),o+=e.byteLength,s[o++]=3,o+=Ma(s,o,t.byteLength+1),s[o++]=0,s.set(new Uint8Array(t),o),s}var qa,Ma,zs,zu,X0,Ws,z0,W0,La,Qs=L(()=>{Ue();Or();qa=t=>{if(t<=127)return 1;if(t<=255)return 2;if(t<=65535)return 3;if(t<=16777215)return 4;throw Y.fromCode(new zr("Length too long (> 4 bytes)"))},Ma=(t,e,r)=>{if(r<=127)return t[e]=r,1;if(r<=255)return t[e]=129,t[e+1]=r,2;if(r<=65535)return t[e]=130,t[e+1]=r>>8,t[e+2]=r,3;if(r<=16777215)return t[e]=131,t[e+1]=r>>16,t[e+2]=r>>8,t[e+3]=r,4;throw Y.fromCode(new zr("Length too long (> 4 bytes)"))},zs=(t,e)=>{if(t[e]<128)return 1;if(t[e]===128)throw Y.fromCode(new He("Invalid length 0"));if(t[e]===129)return 2;if(t[e]===130)return 3;if(t[e]===131)return 4;throw Y.fromCode(new He("Length too long (> 4 bytes)"))},zu=(t,e)=>{let r=zs(t,e);if(r===1)return t[e];if(r===2)return t[e+1];if(r===3)return(t[e+1]<<8)+t[e+2];if(r===4)return(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];throw Y.fromCode(new He("Length too long (> 4 bytes)"))},X0=Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]),Ws=Uint8Array.from([48,5,6,3,43,101,112]),z0=Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]),W0=Uint8Array.from([48,29,6,13,43,6,1,4,1,130,220,124,5,3,1,2,1,6,12,43,6,1,4,1,130,220,124,5,3,2,1]);La=(t,e)=>{let r=0,n=(c,f)=>{if(o[r++]!==c)throw Y.fromCode(new He(`Expected ${f} at offset ${r}`))},o=new Uint8Array(t);if(n(48,"sequence"),r+=zs(o,r),!sr(o.slice(r,r+e.byteLength),e))throw Y.fromCode(new He("Not the expected OID."));r+=e.byteLength,n(3,"bit string");let s=zu(o,r)-1;r+=zs(o,r),n(0,"0 padding");let i=o.slice(r);if(s!==i.length)throw Y.fromCode(new jn(s,i.length));return i}});var Po,Js=L(()=>{Qs();Ue();Po=class t{static from(e){return this.fromDer(e.toDer())}static fromRaw(e){return new t(e)}static fromDer(e){return new t(this.derDecode(e))}static{this.RAW_KEY_LENGTH=32}static derEncode(e){return Pa(e,Ws)}static derDecode(e){let r=La(e,Ws);if(r.length!==this.RAW_KEY_LENGTH)throw Y.fromCode(new He("An Ed25519 public key must be exactly 32 bytes long"));return r}#e;get rawKey(){return this.#e}#t;get derKey(){return this.#t}constructor(e){if(e.byteLength!==t.RAW_KEY_LENGTH)throw Y.fromCode(new He("An Ed25519 public key must be exactly 32 bytes long"));this.#e=e,this.#t=t.derEncode(e)}toDer(){return this.derKey}toRaw(){return this.rawKey}}});var ei,Lo,ti=L(()=>{ei=class{constructor(){this.observers=[]}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter(r=>r!==e)}notify(e,...r){this.observers.forEach(n=>n(e,...r))}},Lo=class extends ei{constructor(){super()}print(e,...r){this.notify({message:e,level:"info"},...r)}warn(e,...r){this.notify({message:e,level:"warn"},...r)}error(e,r,...n){this.notify({message:e,level:"error",error:r},...n)}}});var ko,ka=L(()=>{ko=class t{#e;#t;#n;#i;#u;#r;#o;#c;#a=0;static{this.default={initialInterval:500,randomizationFactor:.5,multiplier:1.5,maxInterval:6e4,maxElapsedTime:9e5,maxIterations:10,date:Date}}constructor(e=t.default){let{initialInterval:r=500,randomizationFactor:n=.5,multiplier:o=1.5,maxInterval:s=6e4,maxElapsedTime:i=9e5,maxIterations:c=10,date:f=Date}=e;this.#e=r,this.#t=n,this.#n=o,this.#i=s,this.#c=f,this.#u=f.now(),this.#r=i,this.#o=c}get ellapsedTimeInMsec(){return this.#c.now()-this.#u}get currentInterval(){return this.#e}get count(){return this.#a}get randomValueFromInterval(){let e=this.#t*this.#e,r=this.#e-e,n=this.#e+e;return Math.random()*(n-r)+r}incrementCurrentInterval(){return this.#e=Math.min(this.#e*this.#n,this.#i),this.#a++,this.#e}next(){return this.ellapsedTimeInMsec>=this.#r||this.#a>=this.#o?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}});function cd(){let t;if(typeof window<"u")if(window.fetch)t=window.fetch.bind(window);else throw ce.fromCode(new vr("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present."));else if(typeof global<"u")if(global.fetch)t=global.fetch.bind(global);else throw ce.fromCode(new vr("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available."));else typeof self<"u"&&self.fetch&&(t=self.fetch.bind(self));if(t)return t;throw ce.fromCode(new vr("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context."))}function ad(t){let e;if(t!==void 0)!t.match(/^[a-z]+:/)&&typeof window<"u"?e=new URL(window.location.protocol+"//"+t):e=new URL(t);else{let r=["ic0.app","icp0.io","127.0.0.1","localhost"],n=[".github.dev",".gitpod.io"],o=typeof window<"u"?window.location:void 0,s=o?.hostname,i;s&&typeof s=="string"&&(n.some(c=>s.endsWith(c))?i=s:i=r.find(c=>s.endsWith(c))),o&&i?e=new URL(`${o.protocol}//${i}${o.port?":"+o.port:""}`):e=new URL("https://icp-api.io")}return e.toString()}function ni(t,e){return Ur.fromDeltaInMilliseconds(t*Da+e)}var ct,Da,Wu,Qu,va,Ju,ed,td,rd,nd,od,ri,sd,id,At,oi=L(()=>{qt();Ue();as();mo();cs();Vo();wo();xn();Ba();$r();Ca();Ua();Js();ti();ka();Co();ve();Or();Ic();wo();(function(t){t.Received="received",t.Processing="processing",t.Replied="replied",t.Rejected="rejected",t.Unknown="unknown",t.Done="done"})(ct||(ct={}));Da=60*1e3,Wu=1e6,Qu="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",va="aaaaa-aa",Ju="ic0.app",ed=".ic0.app",td="icp0.io",rd=".icp0.io",nd="icp-api.io",od=".icp-api.io",ri=200,sd=202,id=404;At=class t{#e;#t;#n;#i;#u;#r;#o;#c;#a;#s;#d;#p;#f;get#_(){return this.#f*Da}#m;#y;#l;#h;constructor(e={}){this.#e=null,this.#t=!1,this.#n=0,this.#i=null,this.#u=!1,this._isAgent=!0,this.config={},this.log=new Lo,this.#m=[],this.#y=[],this.#l=new Mo({expirationTime:300*1e3}),this.#h=!0,this.#w=(o,s)=>{if(this.#h===!1)return o;if(!s)throw Be.fromCode(new Wr);let{status:i,signatures:c=[],requestId:f}=o;for(let h of c){let{timestamp:y,identity:p}=h,u=G.fromUint8Array(p).toText(),l;if(i===Ct.Replied){let{reply:I}=o;l=un({status:i,reply:I,timestamp:BigInt(y),request_id:f})}else if(i===Ct.Rejected){let{reject_code:I,reject_message:T,error_code:C}=o;l=un({status:i,reject_code:I,reject_message:T,error_code:C,timestamp:BigInt(y),request_id:f})}else throw he.fromCode(new Ne(`Unknown status: ${i}`));let a=$(Tc,l),w=s.nodeKeys.get(u);if(!w)throw J.fromCode(new Qn);let x=Po.fromDer(w).rawKey;if(Pe.verify(h.signature,a,x))return o;throw Be.fromCode(new Jn(u))}return o},this.config=e,this.#o=e.fetch||cd()||fetch.bind(global),this.#c=e.fetchOptions,this.#a=e.callOptions,this.#t=e.shouldFetchRootKey??!1,this.#u=e.shouldSyncTime??!1,e.rootKey?this.rootKey=e.rootKey:this.#t?this.rootKey=null:this.rootKey=$e(Qu);let r=ad(e.host);this.host=new URL(r),e.verifyQuerySignatures!==void 0&&(this.#h=e.verifyQuerySignatures),this.#d=e.retryTimes??3;let n=()=>new ko({maxIterations:this.#d});if(this.#p=e.backoffStrategy||n,this.host.hostname.endsWith(ed)?this.host.hostname=Ju:this.host.hostname.endsWith(rd)?this.host.hostname=td:this.host.hostname.endsWith(od)&&(this.host.hostname=nd),e.credentials){let{name:o,password:s}=e.credentials;this.#s=`${o}${s?":"+s:""}`}if(this.#r=Promise.resolve(e.identity||new dn),e.ingressExpiryInMinutes&&e.ingressExpiryInMinutes>5)throw Y.fromCode(new er("The maximum ingress expiry time is 5 minutes.",e.ingressExpiryInMinutes));if(e.ingressExpiryInMinutes&&e.ingressExpiryInMinutes<=0)throw Y.fromCode(new er("Ingress expiry time must be greater than 0.",e.ingressExpiryInMinutes));this.#f=e.ingressExpiryInMinutes||5,this.addTransform("update",ms(bn)),e.useQueryNonces&&this.addTransform("query",ms(bn)),e.logToConsole&&this.log.subscribe(o=>{o.level==="error"?console.error(o.message):o.level==="warn"?console.warn(o.message):console.log(o.message)})}static createSync(e={}){return new this({...e})}static async create(e={}){let r=t.createSync(e);return await r.#x(),r}static async from(e){try{return"config"in e?await t.create(e.config):await t.create({fetch:e._fetch,fetchOptions:e._fetchOptions,callOptions:e._callOptions,host:e._host.toString(),identity:e._identity??void 0})}catch{throw Y.fromCode(new zn)}}isLocal(){let e=this.host.hostname;return e==="127.0.0.1"||e.endsWith("127.0.0.1")}addTransform(e,r,n=r.priority||0){if(e==="update"){let o=this.#y.findIndex(s=>(s.priority||0)<n);this.#y.splice(o>=0?o:this.#y.length,0,Object.assign(r,{priority:n}))}else if(e==="query"){let o=this.#m.findIndex(s=>(s.priority||0)<n);this.#m.splice(o>=0?o:this.#m.length,0,Object.assign(r,{priority:n}))}}async getPrincipal(){if(!this.#r)throw ce.fromCode(new Pt);return(await this.#r).getPrincipal()}async call(e,r,n){let o=r.callSync??!0,s=await(n??this.#r);if(!s)throw ce.fromCode(new Pt);let i=G.from(e),c=r.effectiveCanisterId?G.from(r.effectiveCanisterId):i;await this.#x(c);let f=s.getPrincipal(),h=ni(this.#f,this.#n),y={request_type:yo.Call,canister_id:i,method_name:r.methodName,arg:r.arg,sender:f,ingress_expiry:h},p=await this._transform({request:{body:null,method:"POST",headers:{"Content-Type":"application/cbor",...this.#s?{Authorization:"Basic "+btoa(this.#s)}:{}}},endpoint:xt.Call,body:y}),u;r?.nonce?u=l(r.nonce):p.body.nonce?u=l(p.body.nonce):u=void 0,y.nonce=u;function l(E){return Object.assign(E,{__nonce__:void 0})}p=await s.transformRequest(p);let a=po(p.body),w=this.#p(),x=lo(y);try{let T=o?()=>(this.log.print(`fetching "/api/v3/canister/${c.toText()}/call" with request:`,p),this.#o(""+new URL(`/api/v3/canister/${c.toText()}/call`,this.host),{...this.#a,...p.request,body:a})):()=>(this.log.print(`fetching "/api/v2/canister/${c.toText()}/call" with request:`,p),this.#o(""+new URL(`/api/v2/canister/${c.toText()}/call`,this.host),{...this.#a,...p.request,body:a})),{responseBodyBytes:C,...b}=await this.#b({requestFn:T,backoff:w,tries:0}),A=C.byteLength>0?Me(C):null;return{requestId:x,response:{...b,body:A},requestDetails:y}}catch(E){let I;if(E instanceof je){if(E.hasCode(Jr))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(e,{...r,callSync:!1},n);if(E.hasCode(er))return await this.syncTime(i),this.call(i,r,n);E.code.requestContext={requestId:x,senderPubKey:p.body.sender_pubkey,senderSignature:p.body.sender_sig,ingressExpiry:p.body.content.ingress_expiry},I=E}else I=he.fromCode(new Ne(E));throw this.log.error(`Error while making call: ${I.message}`,I),I}}async#g(e){let{ecid:r,transformedRequest:n,body:o,requestId:s,backoff:i,tries:c}=e,f=c===0?0:i.next();if(this.log.print(`fetching "/api/v2/canister/${r.toString()}/query" with tries:`,{tries:c,backoff:i,delay:f}),f===null)throw he.fromCode(new Qt(`Backoff strategy exhausted after ${c} attempts.`,s));f>0&&await new Promise(l=>setTimeout(l,f));let h;try{this.log.print(`fetching "/api/v2/canister/${r.toString()}/query" with request:`,n);let l=await this.#o(""+new URL(`/api/v2/canister/${r.toString()}/query`,this.host),{...this.#c,...n.request,body:o});if(l.status===ri)h={...Me(Ar(await l.arrayBuffer())),httpDetails:{ok:l.ok,status:l.status,statusText:l.statusText,headers:go(l.headers)},requestId:s};else throw J.fromCode(new Qr(l.status,l.statusText,go(l.headers),await l.text()))}catch(l){if(c<this.#d)return this.log.warn(`Caught exception while attempting to make query:
  ${l}
  Retrying query.`),await this.#g({...e,tries:c+1});throw l instanceof je?l:Yr.fromCode(new en(l))}if(!this.#h)return h;let y=h.signatures?.[0]?.timestamp;if(!y)throw J.fromCode(new Wn("Timestamp not found in query response. This suggests a malformed or malicious response."));let p=Number(BigInt(y)/BigInt(Wu));if(Date.now()+this.#n-p>this.#_){if(c<this.#d)return this.log.warn("Timestamp is older than the max ingress expiry. Retrying query.",{requestId:s,signatureTimestampMs:p}),await this.#g({...e,tries:c+1});throw Be.fromCode(new Zn(this.#f,s,c))}return h}async#b(e){let{requestFn:r,backoff:n,tries:o}=e,s=o===0?0:n.next();if(s===null)throw J.fromCode(new Qt(`Retry strategy exhausted after ${o} attempts.`));s>0&&await new Promise(y=>setTimeout(y,s));let i,c=new Uint8Array;try{i=await r(),i.status===ri&&(c=Ar(await i.clone().arrayBuffer()))}catch(y){if(o<this.#d)return this.log.warn(`Caught exception while attempting to make request:
  ${y}
  Retrying request.`),await this.#b({requestFn:r,backoff:n,tries:o+1});throw Yr.fromCode(new en(y))}let f=go(i.headers);if(i.status===ri||i.status===sd)return{ok:i.ok,status:i.status,statusText:i.statusText,responseBodyBytes:c,headers:f};let h=await i.text();if(i.status===id&&i.url.includes("api/v3"))throw J.fromCode(new Jr);if(h.startsWith("Invalid request expiry: "))throw Y.fromCode(new er(h,this.#f));if(o<this.#d)return await this.#b({requestFn:r,backoff:n,tries:o+1});throw J.fromCode(new Qr(i.status,i.statusText,f,h))}async query(e,r,n){let o=this.#p(),s=r.effectiveCanisterId?G.from(r.effectiveCanisterId):G.from(e);await this.#x(s),this.log.print(`ecid ${s.toString()}`),this.log.print(`canisterId ${e.toString()}`);let i,c=await(n??this.#r);if(!c)throw ce.fromCode(new Pt);let f=G.from(e),h=c.getPrincipal(),y=ni(this.#f,this.#n),p={request_type:cr.Query,canister_id:f,method_name:r.methodName,arg:r.arg,sender:h,ingress_expiry:y},u=lo(p);i=await this._transform({request:{method:"POST",headers:{"Content-Type":"application/cbor",...this.#s?{Authorization:"Basic "+btoa(this.#s)}:{}}},endpoint:xt.Query,body:p}),i=await c.transformRequest(i);let l=po(i.body),a={canister:f.toText(),ecid:s,transformedRequest:i,body:l,requestId:u,backoff:o,tries:0},w=async()=>({requestDetails:p,query:await this.#g(a)}),x=async()=>{if(!this.#h)return;let E=this.#l.get(s.toString());return E||(await this.fetchSubnetKeys(s.toString()),this.#l.get(s.toString()))};try{let[E,I]=await Promise.all([w(),x()]),{requestDetails:T,query:C}=E,b={...C,requestDetails:T};if(this.log.print("Query response:",b),!this.#h)return b;try{return this.#w(b,I)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),this.#l.delete(e.toString()),await this.fetchSubnetKeys(s.toString());let A=this.#l.get(e.toString());if(!A)throw Be.fromCode(new Wr);return this.#w(b,A)}}catch(E){let I;throw E instanceof je?(E.code.requestContext={requestId:u,senderPubKey:i.body.sender_pubkey,senderSignature:i.body.sender_sig,ingressExpiry:i.body.content.ingress_expiry},I=E):I=he.fromCode(new Ne(E)),this.log.error(`Error while making query: ${I.message}`,I),I}}#w;async createReadStateRequest(e,r){await this.#x();let n=await(r??this.#r);if(!n)throw ce.fromCode(new Pt);let o=n.getPrincipal(),s=await this._transform({request:{method:"POST",headers:{"Content-Type":"application/cbor",...this.#s?{Authorization:"Basic "+btoa(this.#s)}:{}}},endpoint:xt.ReadState,body:{request_type:cr.ReadState,paths:e.paths,sender:o,ingress_expiry:ni(this.#f,this.#n)}});return n.transformRequest(s)}async readState(e,r,n,o){await this.#E();let s=G.from(e);function i(y){for(let p of y.paths){let[u,l]=p,a=new TextEncoder().encode("request_status");if(sr(u,a))return l}}let c,f;if(o)c=o,f=lo(c);else{f=i(r);let y=await this.#r;if(!y)throw ce.fromCode(new Pt);c=await this.createReadStateRequest(r,y)}this.log.print(`fetching "/api/v2/canister/${s}/read_state" with request:`,c);let h=this.#p();try{let{responseBodyBytes:y}=await this.#b({requestFn:()=>this.#o(""+new URL(`/api/v2/canister/${s.toString()}/read_state`,this.host),{...this.#c,...c.request,body:po(c.body)}),backoff:h,tries:0}),p=Me(y);return this.log.print("Read state response:",p),p}catch(y){let p;throw y instanceof je?(y.code.requestContext={requestId:f,senderPubKey:c.body.sender_pubkey,senderSignature:c.body.sender_sig,ingressExpiry:c.body.content.ingress_expiry},p=y):p=he.fromCode(new Ne(y)),this.log.error(`Error while making read state: ${p.message}`,p),p}}parseTimeFromResponse(e){let r;if(e.certificate){let n=Me(e.certificate);if(n&&"tree"in n)r=n.tree;else throw J.fromCode(new Lt("Could not decode time from response"));let o=mr(["time"],r);if(o.status!==Re.Found)throw J.fromCode(new ht("Time was not found in the response or was not in its expected format.",o.status));if(!(o.value instanceof Uint8Array)&&!ArrayBuffer.isView(o))throw J.fromCode(new Er("Time was not in its expected format."));let s=Fr(o.value);return this.log.print("Time from response:",s),this.log.print("Time from response in milliseconds:",Number(s)),Number(s)}else this.log.warn("No certificate found in response");return 0}async syncTime(e){this.#i=this.#i??(async()=>{await this.#E();let r=Date.now();try{e||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");let n=e??G.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),o=t.createSync({identity:new dn,host:this.host.toString(),fetch:this.#o,retryTimes:0,rootKey:this.rootKey??void 0}),i=(await Promise.all(Array(3).fill(null).map(async()=>{let f=(await Hs({canisterId:n,agent:o,paths:["time"]})).get("time");if(f instanceof Date)return f.getTime()},[]))).reduce((c,f)=>typeof f=="number"&&f>c?f:c,0);i>BigInt(0)&&(this.#n=Number(i)-Number(r),this.log.notify({message:`Syncing time: offset of ${this.#n}`,level:"info"}))}catch(n){let o=n instanceof je?n:he.fromCode(new Ne(n));throw this.log.error("Caught exception while attempting to sync time",o),o}})(),await this.#i.finally(()=>{this.#i=null})}async status(){let e=this.#s?{Authorization:"Basic "+btoa(this.#s)}:{};this.log.print('fetching "/api/v2/status"');let r=this.#p(),{responseBodyBytes:n}=await this.#b({backoff:r,requestFn:()=>this.#o(""+new URL("/api/v2/status",this.host),{headers:e,...this.#c}),tries:0});return Me(n)}async fetchRootKey(){return this.#e=this.#e??(async()=>{let e=await this.status();return this.rootKey=e.root_key,this.rootKey})(),await this.#e.finally(()=>{this.#e=null})}async#x(e){await Promise.all([this.#E(),this.#v(e)])}async#E(){if(!this.rootKey)if(this.rootKey===null&&this.host.toString()!=="https://icp-api.io"&&this.#t)await this.fetchRootKey();else throw ce.fromCode(new Ge(this.#t))}async#v(e){this.#u&&this.#n===0&&await this.syncTime(e)}invalidateIdentity(){this.#r=null}replaceIdentity(e){this.#r=Promise.resolve(e)}async fetchSubnetKeys(e){let r=G.from(e);await this.#x(r);let o=(await Hs({canisterId:r,paths:["subnet"],agent:this})).get("subnet");if(o&&typeof o=="object"&&"nodeKeys"in o)return this.#l.set(r.toText(),o),o}_transform(e){let r=Promise.resolve(e);if(e.endpoint===xt.Call)for(let n of this.#y)r=r.then(o=>n(o).then(s=>s||o));else for(let n of this.#m)r=r.then(o=>n(o).then(s=>s||o));return r}}});var qr=L(()=>{Vo();oi()});function si(){return pd(dd(ud(),1e3),hd(1e3,1.2),ld(fd))}function ud(){let t=!0;return async()=>t?(t=!1,!0):!1}function dd(t,e){return async(r,n,o)=>{if(await t(r,n,o))return new Promise(s=>setTimeout(s,e))}}function ld(t){let e=Date.now()+t;return async(r,n,o)=>{if(Date.now()>e)throw J.fromCode(new Qt(`Request timed out after ${t} msec`,n,o))}}function hd(t,e){let r=t;return()=>new Promise(n=>setTimeout(()=>{r*=e,n()},r))}function pd(...t){return async(e,r,n)=>{for(let o of t)await o(e,r,n)}}var fd,ii=L(()=>{Ue();fd=300*1e3});function $a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ci(t,e){return t!==null&&typeof t=="object"&&$a(t,e)}function yd(t,e){return $a(t,e)&&typeof t[e]=="function"}function Va(t){return ci(t,"body")&&ci(t.body,"content")&&t.body.content.request_type===cr.ReadState&&ci(t.body.content,"ingress_expiry")&&typeof t.body.content.ingress_expiry=="object"&&t.body.content.ingress_expiry!==null&&yd(t.body.content.ingress_expiry,"toHash")}async function ai(t,e,r,n={}){let o=[W("request_status"),r],s,i;if(n.preSignReadStateRequest??!1?(i=await bd({paths:[o],agent:t,pollingOptions:n}),s=await t.readState(e,{paths:[o]},void 0,i)):s=await t.readState(e,{paths:[o]}),t.rootKey==null)throw ce.fromCode(new Ge);let f=await Gt.create({certificate:s.certificate,rootKey:t.rootKey,canisterId:e,blsVerify:n.blsVerify}),h=Ee(f.lookup_path([...o,W("status")])),y;switch(typeof h>"u"?y=ct.Unknown:y=new TextDecoder().decode(h),y){case ct.Replied:return{reply:Ee(f.lookup_path([...o,"reply"])),certificate:f};case ct.Received:case ct.Unknown:case ct.Processing:return await(n.strategy??si())(e,r,y),ai(t,e,r,{...n,request:i});case ct.Rejected:{let p=new Uint8Array(Ee(f.lookup_path([...o,"reject_code"])))[0],u=new TextDecoder().decode(Ee(f.lookup_path([...o,"reject_message"]))),l=Ee(f.lookup_path([...o,"error_code"])),a=l?new TextDecoder().decode(l):void 0;throw Mt.fromCode(new Jt(r,p,u,a))}case ct.Done:throw he.fromCode(new Yn(r))}throw kt}async function bd(t){let{paths:e,agent:r,pollingOptions:n}=t;if(n.request&&Va(n.request))return n.request;let o=await r.createReadStateRequest?.({paths:e},void 0);if(!Va(o))throw Y.fromCode(new eo(o));return o}var Fa,Do=L(()=>{$r();Ue();ii();ii();xn();qr();ve();Fa={strategy:si(),preSignReadStateRequest:!1}});function jr(t,e){let r=or.decode(t,e);switch(r.length){case 0:return;case 1:return r[0];default:return r}}function gd(t,e,r,n){let o;r.annotations.includes("query")||r.annotations.includes("composite_query")?o=async(i,...c)=>{i={...i,...t[Ve].config.queryTransform?.(e,c,{...t[Ve].config,...i})};let f=i.agent||t[Ve].config.agent||new At,h=G.from(i.canisterId||t[Ve].config.canisterId),y=or.encode(r.argTypes,c),p=await f.query(h,{methodName:e,arg:y,effectiveCanisterId:i.effectiveCanisterId}),u={...p.httpDetails,requestDetails:p.requestDetails};switch(p.status){case Ct.Rejected:{let l=new Kn(p.requestId,p.reject_code,p.reject_message,p.error_code,p.signatures);throw l.callContext={canisterId:h,methodName:e,httpDetails:u},Mt.fromCode(l)}case Ct.Replied:return r.annotations.includes(fi)?{httpDetails:u,result:jr(r.retTypes,p.reply.arg)}:jr(r.retTypes,p.reply.arg)}}:o=async(i,...c)=>{i={...i,...t[Ve].config.callTransform?.(e,c,{...t[Ve].config,...i})};let f=i.agent||t[Ve].config.agent||At.createSync(),{canisterId:h,effectiveCanisterId:y,pollingOptions:p}={...ja,...t[Ve].config,...i},u=G.from(h),l=y!==void 0?G.from(y):u,a=or.encode(r.argTypes,c),{requestId:w,response:x,requestDetails:E}=await f.call(u,{methodName:e,arg:a,effectiveCanisterId:l,nonce:i.nonce}),I,T;if(pi(x.body)){if(f.rootKey==null)throw ce.fromCode(new Ge);let U=x.body.certificate;T=await Gt.create({certificate:U,rootKey:f.rootKey,canisterId:G.from(h),blsVerify:n});let q=[W("request_status"),w];switch(new TextDecoder().decode(Ee(T.lookup_path([...q,"status"])))){case"replied":I=Ee(T.lookup_path([...q,"reply"]));break;case"rejected":{let _=new Uint8Array(Ee(T.lookup_path([...q,"reject_code"])))[0],B=new TextDecoder().decode(Ee(T.lookup_path([...q,"reject_message"]))),O=Ee(T.lookup_path([...q,"error_code"])),d=O?new TextDecoder().decode(O):void 0,m=new Jt(w,_,B,d);throw m.callContext={canisterId:u,methodName:e,httpDetails:x},Mt.fromCode(m)}}}else if(hi(x.body)){let{reject_code:U,reject_message:q,error_code:M}=x.body,_=new Jt(w,U,q,M);throw _.callContext={canisterId:u,methodName:e,httpDetails:x},Mt.fromCode(_)}if(x.status===202){let U={...p,blsVerify:n},q=await ai(f,l,w,U);T=q.certificate,I=q.reply}let C=r.annotations.includes(fi),b=r.annotations.includes(Ha),A={...x,requestDetails:E};if(I!==void 0)return C&&b?{httpDetails:A,certificate:T,result:jr(r.retTypes,I)}:b?{certificate:T,result:jr(r.retTypes,I)}:C?{httpDetails:A,result:jr(r.retTypes,I)}:jr(r.retTypes,I);if(r.retTypes.length===0)return C?{httpDetails:x,result:void 0}:void 0;throw he.fromCode(new Ne(`Call was returned undefined, but type [${r.retTypes.map(U=>U.display()).join(",")}].`))};let s=(...i)=>o({},...i);return s.withOptions=i=>(...c)=>o(i,...c),s}var Ve,Hr,ja,fi,Ha,Ga=L(()=>{qr();Ue();fn();Do();qt();$r();oi();ve();Ve=Symbol.for("ic-agent-metadata"),Hr=class t{static agentOf(e){return e[Ve].config.agent}static interfaceOf(e){return e[Ve].service}static canisterIdOf(e){return G.from(e[Ve].config.canisterId)}static createActorClass(e,r){let n=e({IDL:or});class o extends t{constructor(i){if(!i.canisterId)throw Y.fromCode(new tn(i.canisterId));let c=typeof i.canisterId=="string"?G.fromText(i.canisterId):i.canisterId;super({config:{...ja,...i,canisterId:c},service:n});for(let[f,h]of n._fields)r?.httpDetails&&h.annotations.push(fi),r?.certificate&&h.annotations.push(Ha),this[f]=gd(this,f,h,i.blsVerify)}}return o}static createActor(e,r){if(!r.canisterId)throw Y.fromCode(new tn(r.canisterId));return new(this.createActorClass(e))(r)}static createActorWithHttpDetails(e,r){return new(this.createActorClass(e,{httpDetails:!0}))(r)}static createActorWithExtendedDetails(e,r,n={httpDetails:!0,certificate:!0}){return new(this.createActorClass(e,n))(r)}constructor(e){this[Ve]=Object.freeze(e)}};ja={pollingOptions:Fa},fi="http-details",Ha="certificate"});var Za=L(()=>{});var ui=L(()=>{Ga();qr();wo();xn();as();$r();Qs();Ue();Za();ti();Js();cs();Fs();Or();hs();Do();Do()});var Nn,di=L(()=>{Nn=({IDL:t})=>{let e=t.Vec(t.Nat8),r=t.Record({owner:t.Principal,subaccount:t.Opt(e)}),n=t.Nat,o=t.Variant({Int:t.Int,Nat:t.Nat,Blob:t.Vec(t.Nat8),Text:t.Text}),s=t.Vec(t.Nat8),i=t.Nat64,c=t.Nat;return t.Service({add_to_whitelist:t.Func([t.Principal],[t.Variant({Ok:t.Text,Err:t.Text})],[]),icrc1_balance_of:t.Func([r],[n],["query"]),icrc1_decimals:t.Func([],[t.Nat8],[]),icrc1_fee:t.Func([],[t.Nat],[]),icrc1_metadata:t.Func([],[t.Vec(t.Tuple(t.Text,o))],["query"]),icrc1_name:t.Func([],[t.Text],[]),icrc1_symbol:t.Func([],[t.Text],[]),icrc1_total_supply:t.Func([],[n],[]),icrc1_transfer:t.Func([t.Record({to:r,fee:t.Opt(n),memo:t.Opt(s),from_subaccount:t.Opt(e),created_at_time:t.Opt(i),amount:n})],[t.Variant({Ok:c,Err:t.Text})],[]),mint:t.Func([r,n],[t.Variant({Ok:c,Err:t.Text})],[])})}});var Ka,wd,up,Ya=L(()=>{ui();di();di();Ka=process.env.CANISTER_ID_TABB_BACKEND,wd=(t,e={})=>{let r=e.agent||new At({...e.agentOptions});return e.agent&&e.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),process.env.DFX_NETWORK!=="ic"&&r.fetchRootKey().catch(n=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(n)}),Hr.createActor(Nn,{agent:r,canisterId:t,...e.actorOptions})},up=Ka?wd(Ka):void 0});var Bd=za(()=>{ui();Ya();var Ed="vivpr-oqaaa-aaaak-que3q-cai",_d=new At.create({host:"https://ic0.app"});async function vd(){try{let e=await Hr.createActor(Nn,{agent:_d,canisterId:Ed}).icrc1_name();console.log("Token name:",e),document.getElementById("name").textContent=e}catch(t){console.error("Error calling backend:",t)}}window.checkBalance=async()=>{let t=document.getElementById("principal").value,e=await backend.icrc1_balance_of({owner:t,subaccount:[]});document.getElementById("balance").textContent=e.toString()};vd()});Bd();})();
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/abstract/bls.js:
@noble/curves/esm/abstract/tower.js:
@noble/curves/esm/bls12-381.js:
@noble/curves/esm/abstract/edwards.js:
@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
